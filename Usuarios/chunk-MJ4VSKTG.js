import{b as se}from"./chunk-XF4YKFFT.js";import{a as me,b as de}from"./chunk-AOZQX7RY.js";import{a as ce}from"./chunk-6QZQREYV.js";import{B as ne,C as oe,D as re,G as ae,H as le,a as U,b as q,d as D,h as G,i as z,k as K,m as X,o as w,q as Z,r as $,v as ee,x as te,y as ie}from"./chunk-F5EWGMC5.js";import{c as J}from"./chunk-WDWF6CK4.js";import"./chunk-3OIUUP25.js";import"./chunk-FIFHZQ6R.js";import{A as j,Da as Q,Fa as O,Ga as H,Ia as W,Ja as Y,x as L,z as P}from"./chunk-Q3PXOYDA.js";import{$a as p,$b as N,Db as i,Eb as e,Fb as c,Jb as A,Pb as v,Rb as k,Vb as T,Wb as V,Xb as R,Yb as I,Zb as r,_a as o,cc as B,dc as _,la as F,qb as f,sb as d,va as g,wa as h,xa as E,ya as M,zb as u}from"./chunk-LGQ6X4JS.js";import{a as b,b as C}from"./chunk-NEB6MB4Y.js";var pe=["signInNgForm"],fe=()=>["/forgot-password"],ge=()=>["/sign-up"];function he(t,a){if(t&1&&(i(0,"fuse-alert",8),r(1),e()),t&2){let x=k();d("appearance","outline")("showIcon",!1)("type",x.alert.type)("@shake",x.alert.type==="error"),o(),N(" ",x.alert.message," ")}}function ve(t,a){t&1&&(i(0,"mat-error"),r(1," El correo es requirido "),e())}function we(t,a){t&1&&(i(0,"mat-error"),r(1," El correo es invalido! "),e())}function xe(t,a){t&1&&c(0,"mat-icon",14),t&2&&d("svgIcon","heroicons_solid:eye")}function ye(t,a){t&1&&c(0,"mat-icon",14),t&2&&d("svgIcon","heroicons_solid:eye-slash")}function Ie(t,a){t&1&&(i(0,"span"),r(1," Inciar sesi\xF3n "),e())}function _e(t,a){t&1&&c(0,"mat-progress-spinner",18),t&2&&d("diameter",24)("mode","indeterminate")}var ue=(()=>{let a=class a{constructor(l,s,n,m){this._activatedRoute=l,this._authService=s,this._formBuilder=n,this._router=m,this.showInstallButton=!1,this.alert={type:"success",message:""},this.showAlert=!1}ngOnInit(){this.signInForm=this._formBuilder.group({correo:["",[w.required,w.email]],contrasena:["",w.required]}),window.addEventListener("beforeinstallprompt",l=>{console.log(l),l.preventDefault(),this.deferredPrompt=l,this.showInstallButton=!0})}signIn(){if(this.signInForm.invalid)return;this.signInForm.disable(),this.showAlert=!1;let l=this.signInForm.getRawValue(),s=C(b({},l),{idTipoUsuario:"e626ea69-e995-4462-be9a-905326714781"});this._authService.signIn(s).subscribe(()=>{let n=this._activatedRoute.snapshot.queryParamMap.get("redirectURL")||"/signed-in-redirect";this._router.navigateByUrl(n)},n=>{this.signInForm.enable(),this.alert={type:"error",message:"\xA1Error de Usuario o Contrase\xF1a!"},this.showAlert=!0})}installApp(){console.log("Clickic"),this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(l=>{l.outcome==="accepted"?console.log("PWA instalada"):console.log("Instalaci\xF3n rechazada"),this.deferredPrompt=null}))}};a.\u0275fac=function(s){return new(s||a)(p(L),p(J),p(ne),p(P))},a.\u0275cmp=F({type:a,selectors:[["auth-sign-in"]],viewQuery:function(s,n){if(s&1&&T(pe,5),s&2){let m;V(m=R())&&(n.signInNgForm=m.first)}},standalone:!0,features:[B],decls:55,vars:15,consts:[["signInNgForm","ngForm"],["passwordField",""],[1,"flex","min-w-0","flex-auto","flex-col","items-center","sm:flex-row","sm:justify-center","md:items-start","md:justify-start"],[1,"w-full","px-4","py-8","sm:bg-card","sm:w-auto","sm:rounded-2xl","sm:p-12","sm:shadow","md:flex","md:h-full","md:w-1/2","md:items-center","md:justify-end","md:rounded-none","md:p-16","md:shadow-none"],[1,"mx-auto","w-full","max-w-80","sm:mx-0","sm:w-80"],[1,"w-4/5"],["src","images/logo/logo-azul.svg"],[1,"mt-8","text-4xl","font-extrabold","leading-tight","tracking-tight"],[1,"mt-8",3,"appearance","showIcon","type"],[1,"mt-8",3,"formGroup"],["floatLabel","always",1,"w-full"],["id","correo","matInput","","placeholder","Usuario",3,"formControlName"],["id","contrasena","matInput","","type","password","placeholder","Contrase\xF1a",3,"formControlName"],["mat-icon-button","","type","button","matSuffix","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"mt-1.5","inline-flex","w-full","items-center","justify-between"],[1,"text-md","font-medium","text-primary-500","hover:underline",3,"routerLink"],["mat-flat-button","",1,"fuse-mat-button-large","mt-6","w-full","bg-crediblue-50","text-white","font-semibold","rounded-lg",3,"click","disabled"],[3,"diameter","mode"],[1,"mt-2","flex","flex-col","font-medium"],[1,"text-primary-500","hover:underline",3,"routerLink"],["mat-flat-button","",1,"fuse-mat-button-large","mt-6","w-full","bg-crediorange-100","text-white","font-semibold","rounded-lg",3,"click"],[1,"relative","hidden","h-full","w-1/2","flex-auto","items-center","justify-center","overflow-hidden","bg-gray-800","p-16","dark:border-l","md:flex","lg:px-28"],["viewBox","0 0 960 540","width","100%","height","100%","preserveAspectRatio","xMidYMax slice","xmlns","http://www.w3.org/2000/svg",1,"absolute","inset-0","pointer-events-none"],["fill","none","stroke","currentColor","stroke-width","100",1,"text-gray-700","opacity-25"],["r","234","cx","196","cy","23"],["r","234","cx","790","cy","491"],["viewBox","0 0 220 192","width","220","height","192","fill","none",1,"absolute","-top-16","-right-16","text-gray-700"],["id","837c3e70-6c3a-44e6-8854-cc48c737b659","x","0","y","0","width","20","height","20","patternUnits","userSpaceOnUse"],["x","0","y","0","width","4","height","4","fill","currentColor"],["width","220","height","192","fill","url(#837c3e70-6c3a-44e6-8854-cc48c737b659)"],[1,"relative","z-10","w-full","max-w-2xl"],[1,"text-7xl","font-bold","leading-none","text-gray-100"],[1,"mt-6","text-lg","leading-6","tracking-tight","text-gray-400"]],template:function(s,n){if(s&1){let m=A();i(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),c(4,"img",6),e(),i(5,"div",7),r(6," Inicio de sesi\xF3n "),e(),f(7,he,2,5,"fuse-alert",8),i(8,"form",9,0)(10,"mat-form-field",10)(11,"mat-label"),r(12,"Correo electronico"),e(),c(13,"input",11),f(14,ve,2,0,"mat-error")(15,we,2,0,"mat-error"),e(),i(16,"mat-form-field",10)(17,"mat-label"),r(18,"Contrase\xF1a"),e(),c(19,"input",12,1),i(21,"button",13),v("click",function(){g(m);let y=I(20);return h(y.type==="password"?y.type="text":y.type="password")}),f(22,xe,1,1,"mat-icon",14)(23,ye,1,1,"mat-icon",14),e(),i(24,"mat-error"),r(25," Contrase\xF1a es invalida! "),e()(),i(26,"div",15)(27,"a",16),r(28,"Recuperar usuario? "),e()(),i(29,"button",17),v("click",function(){return g(m),h(n.signIn())}),f(30,Ie,2,0,"span")(31,_e,1,2,"mat-progress-spinner",18),e(),i(32,"div",19)(33,"div"),r(34,"Si no tienes una cuentas por favor"),e(),i(35,"a",20),r(36,"Registrate aqu\xED "),e()()(),i(37,"button",21),v("click",function(){return g(m),h(n.installApp())}),r(38," Instalar App "),e()()(),i(39,"div",22),E(),i(40,"svg",23)(41,"g",24),c(42,"circle",25)(43,"circle",26),e()(),i(44,"svg",27)(45,"defs")(46,"pattern",28),c(47,"rect",29),e()(),c(48,"rect",30),e(),M(),i(49,"div",31)(50,"div",32)(51,"div"),r(52,"CrediPlus - Trabajador"),e()(),i(53,"div",33),r(54," Plataforma para gestionar pr\xE9stamos a colaboradores de manera eficiente y segura. Inicia Sesi\xF3n y accede las opciones que tenemos para ti. "),e()()()()}if(s&2){let m=I(20);o(7),u(n.showAlert?7:-1),o(),d("formGroup",n.signInForm),o(5),d("formControlName","correo"),o(),u(n.signInForm.get("correo").hasError("required")?14:-1),o(),u(n.signInForm.get("correo").hasError("correo")?15:-1),o(4),d("formControlName","contrasena"),o(3),u(m.type==="password"?22:-1),o(),u(m.type==="text"?23:-1),o(4),d("routerLink",_(13,fe)),o(2),d("disabled",n.signInForm.disabled),o(),u(n.signInForm.disabled?-1:30),o(),u(n.signInForm.disabled?31:-1),o(4),d("routerLink",_(14,ge))}},dependencies:[j,ce,oe,ee,X,Z,$,re,te,ie,z,G,U,q,D,le,ae,H,Q,O,Y,W,se,de,me],encapsulation:2,data:{animation:K}});let t=a;return t})();var Oe=[{path:"",component:ue}];export{Oe as default};
