import{a as F,b as W}from"./chunk-U2LWHJYZ.js";import{a as at}from"./chunk-M3V2QEQ3.js";import{a as tt}from"./chunk-WMNOZPY7.js";import{a as Qe}from"./chunk-DFNYN3I6.js";import{a as Xe,b as Ye,c as et}from"./chunk-WJEX57WX.js";import{a as Ke}from"./chunk-C7AZNKPK.js";import{a as He,b as Je,c as Ze}from"./chunk-CB4RFODM.js";import{a as q}from"./chunk-KDRCW2VF.js";import{a as U,b as We}from"./chunk-D35OUFHA.js";import{a as z}from"./chunk-HN2IWLXW.js";import{a as ue}from"./chunk-6B6PMKOT.js";import{a as qe}from"./chunk-CIRWMTLN.js";import{a as $e,c as ze}from"./chunk-ZSAEFQSV.js";import"./chunk-Q5IBO7O7.js";import{a as pe}from"./chunk-LUXURQN6.js";import{g as ae,j as Ue}from"./chunk-UD2FEJ4L.js";import{a as Ae,b as Ne,c as Ve,d as Ge}from"./chunk-MDZA5IL6.js";import"./chunk-XP7WEH62.js";import{C as se,E as Le,F as de,J as $,b as ee,e as Oe,i as R,l as ie,n as L,p as oe,q as re,s as Re,u as ne,w as Be,x as le,y as me}from"./chunk-KKJSUWDN.js";import{b as Me,d as V}from"./chunk-UEKZXHJT.js";import{h as Y}from"./chunk-L5AVPIHT.js";import"./chunk-ZVLDBLLW.js";import{a as ce}from"./chunk-BP4Z4LAT.js";import"./chunk-LYM3MK3M.js";import{Ba as te,Q as G,R as O,ba as ke,wa as B}from"./chunk-H26SRIJU.js";import{Ac as X,Cb as x,Dc as Ie,Eb as v,Ec as S,Gc as N,Hc as h,Lb as I,Mb as n,Nb as C,Ob as M,Pb as Te,Qa as l,Sb as Ee,Tb as we,Ub as Pe,Vb as w,W as _e,Wb as P,Zb as Fe,_ as H,cc as y,dc as k,ec as A,fc as ve,gb as b,ha as p,ib as d,ma as E,pb as D,q as be,tb as a,ub as i,vb as c,wa as _,wb as J,xa as T,xb as Z,yc as De,zb as Q,zc as je}from"./chunk-IEDNLM77.js";import{a as j,b as Se,d as K}from"./chunk-NEB6MB4Y.js";var mt={validation:!1},it=(()=>{let s=class s{constructor(){this.dialogRef=p(Ae),this._matData=p(Ne),this.fb=p(se),this.pagoTrabajadoresService=p(F),this.estadosDatosService=p(z),this.swalService=p(pe)}ngOnInit(){this.createForm();let e=this._matData.data;console.log(e),this.form.patchValue({valorRecibido:parseFloat(e.total.replace(/[\$,]/g,""))})}onCambioEstado(){if(this.form.valid){let t=this._matData.data,e=this.form.getRawValue(),{valorRecibido:u}=e,f=K(e,["valorRecibido"]),g=j({id:t.id,idEstadoCobroPago:W.PAGADOS,valorRecibido:parseFloat(u)},f);this.pagoTrabajadoresService.putPagoTrabajadorIndividual(g).subscribe(fe=>{this.estadosDatosService.stateGrid.next(!0),this.swalService.ToastAler({icon:"success",title:"Registro Creado o Actualizado con Exito.",timer:4e3}),this.closeDialog()},fe=>{this.swalService.ToastAler({icon:"error",title:"Ha ocurrido un error al crear el registro!",timer:4e3})})}}closeDialog(){this.dialogRef.close()}createForm(){this.form=this.fb.group({comprobante:["",L.required],valorRecibido:[""],observacion:[""]})}};s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=E({type:s,selectors:[["app-dialog-estado"]],standalone:!0,features:[w([{provide:O,useClass:q},{provide:G,useValue:"en-GB"},S,h,U(mt)]),P],decls:30,vars:8,consts:[[1,"relative","flex","h-full","w-full","flex-col"],[1,"flex","flex-auto","flex-col","items-center","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],[1,"flex","h-10","w-10","flex-0","items-center","justify-center","rounded-full","sm:mr-4","bg-blue-100","text-blue-600","dark:bg-blue-600","dark:text-blue-50"],[3,"svgIcon"],[1,"flex","flex-col","items-center","space-y-1","text-center","sm:mt-0","sm:items-start","sm:pr-8","sm:text-left"],[1,"text-xl","font-medium","leading-6"],[1,"text-secondary"],[1,"mt-8",3,"formGroup"],[1,"mt-4","flex","flex-col","items-center","space-y-1","text-center","sm:mt-0","sm:items-start","sm:text-left"],["floatLabel","always",1,"w-full","min-w-90"],["matInput","","placeholder","Comprobante",3,"formControlName"],["matInput","","placeholder","Valor recibido","mask","separator.2","thousandSeparator",",","decimalMarker",".",3,"formControlName"],["floatLabel","always",1,"w-full"],["matInput","","placeholder","Observaciones",3,"formControlName"],[1,"flex","items-center","justify-center","space-x-3","bg-gray-50","py-4","dark:bg-black","dark:bg-opacity-10","sm:justify-end"],["mat-stroked-button","",1,"sm:w-auto","w-full","bg-crediorange-100","rounded-lg","transition","duration-200","text-white","font-semibold",3,"matDialogClose"],["mat-flat-button","",1,"sm:w-auto","w-full","bg-crediblue-50","hover:bg-crediblue-100","text-white","font-semibold","py-2","px-4","rounded-lg","transition","duration-200",3,"click","color","matDialogClose"]],template:function(t,o){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),c(3,"mat-icon",3),i(),a(4,"div",4)(5,"div",5),n(6," Confirmacion "),i(),a(7,"div",6),n(8," \xBFEst\xE1 seguro de cambiar el estado?. "),i()()(),a(9,"form",7)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),n(13,"N\xFAmero de comprobante"),i(),c(14,"input",10),i()(),a(15,"div",8)(16,"mat-form-field",9)(17,"mat-label"),n(18,"Valor recibido"),i(),c(19,"input",11),i()(),a(20,"div",8)(21,"mat-form-field",12)(22,"mat-label"),n(23,"Observaciones"),i(),c(24,"textarea",13),i()()(),a(25,"div",14)(26,"button",15),n(27," Cancelar "),i(),a(28,"button",16),x("click",function(){return o.onCambioEstado()}),n(29," Confirmar "),i()()()),t&2&&(l(3),d("svgIcon","heroicons_solid:question-mark-circle"),l(6),d("formGroup",o.form),l(5),d("formControlName","comprobante"),l(5),d("formControlName","valorRecibido"),l(5),d("formControlName","observacion"),l(2),d("matDialogClose","cancelled"),l(2),d("color","primary")("matDialogClose","confirmed"))},dependencies:[B,te,Ge,R,$,ee,de,ne,ie,oe,re,le,me,Le,We]});let r=s;return r})();function st(r,s){if(r&1&&(J(0),c(1,"app-custom-table",19),Z()),r&2){let m=v(2);l(),d("columns",m.columns)("displayedColumns",m.columns)("columnPropertyMap",m.columnPropertyMap)("data",m.data)("buttons",m.buttons)("searchTerm",m.searchTerm)}}function dt(r,s){r&1&&(a(0,"div",20)(1,"div",21)(2,"fuse-alert",22)(3,"span",23),n(4,"Informaci\xF3n"),i(),n(5," No hay pagos pendientes hasta el momento. "),i()()()),r&2&&(l(2),d("type","info")("appearance","outline"))}function pt(r,s){if(r&1&&b(0,st,2,6,"ng-container",18)(1,dt,6,2,"ng-template",null,1,ve),r&2){let m=I(2),e=v();d("ngIf",e.data.length)("ngIfElse",m)}}function ct(r,s){if(r&1&&(J(0),c(1,"app-custom-table",19),Z()),r&2){let m=v(2);l(),d("columns",m.columns)("displayedColumns",m.columns)("columnPropertyMap",m.columnPropertyMap)("data",m.data)("buttons",m.buttonsPagados)("searchTerm",m.searchTerm)}}function ut(r,s){r&1&&(a(0,"div",20)(1,"div",21)(2,"fuse-alert",22)(3,"span",23),n(4,"Informaci\xF3n"),i(),n(5," No hay pagos hasta el momento. "),i()()()),r&2&&(l(2),d("type","info")("appearance","outline"))}function ft(r,s){if(r&1&&b(0,ct,2,6,"ng-container",18)(1,ut,6,2,"ng-template",null,1,ve),r&2){let m=I(2),e=v();d("ngIf",e.data.length)("ngIfElse",m)}}var ot=(()=>{let s=class s{constructor(){this.datePipe=p(S),this.searchTerm="",this.currencyPipe=p(h),this.pagoTrabajadorService=p(F),this._matDialog=p(Ve),this.estadoDatosService=p(z),this.router=p(V),this.selectedTab=W.PENDIENTES,this.data=[],this.columns=["N\xFAmero de pago","Identificaci\xF3n","Nombres Apellidos","Empresa","Total","Estado"],this.columnPropertyMap={"N\xFAmero de pago":"consecutivo",Identificaci\u00F3n:"numDocumento","Nombres Apellidos":"nombreTrabajador",Empresa:"nombreSubempresa",Total:"total",Estado:"nombreEstadoCobro"},this.buttons=[{label:"Ver",icon:"visibility",action:e=>{console.log("Editing",e),this.router.navigate(["/pages/gestion-cobros/trabajador/individual/",e.id])}},{label:"Cambiar estado",icon:"published_with_changes",action:e=>{console.log("View",e),this.selectedData=e,this.onCambioEstado()}}],this.buttonsPagados=[{label:"Ver",icon:"visibility",action:e=>{console.log("Editing",e),this.router.navigate(["/pages/gestion-cobros/trabajador/individual/",e.id])}}],this.tabChanged=e=>{this.tabIndex=e.index,this.selectedTab=e.index==0?W.PENDIENTES:W.PAGADOS,this.getPagoTrabajadores(this.selectedTab)}}onCambioEstado(){this._matDialog.open(it,{autoFocus:!1,data:{edit:!0,data:this.selectedData},width:"30%",disableClose:!0,panelClass:"custom-dialog-container"})}ngOnDestroy(){}ngOnInit(){this.getPagoTrabajadores(this.selectedTab),this.listenGrid()}onNew(){this.router.navigate(["/pages/gestion-cobros/trabajador/individual"])}getPagoTrabajadores(e){this.pagoTrabajadorService.getPagoTrabajadorIndividual(e).pipe(H(t=>(t.data.forEach(o=>{o.fechaCreacion=this.datePipe.transform(o.fechaCreacion,"dd/MM/yyyy"),o.total=this.currencyPipe.transform(o.total,"USD","symbol","1.2-2")}),t))).subscribe(t=>{t.data&&(this.data=t.data)})}onSearch(e){let t=e.target;this.searchTerm=t.value.trim().toLowerCase()}listenGrid(){this.estadoDatosService.stateGrid.asObservable().subscribe(t=>{t&&this.getPagoTrabajadores(this.selectedTab)})}};s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=E({type:s,selectors:[["app-grid-pago-trabajador"]],standalone:!0,features:[w([S,h]),P],decls:20,vars:8,consts:[["tabGroup",""],["noData",""],[1,"bg-card","flex","min-w-0","flex-auto","flex-col","dark:bg-transparent","sm:absolute","sm:inset-0","sm:overflow-hidden"],[1,"relative","flex","flex-0","flex-col","border-b","px-6","py-8","sm:flex-row","sm:items-center","sm:justify-between","md:px-8"],[1,"text-3xl","font-semibold","tracking-tight"],[1,"mt-6","flex","w-full","shrink-0","flex-col","items-center","sm:ml-4","sm:mt-0","sm:flex-row","sm:space-x-2","sm:w-auto"],[1,"fuse-mat-dense","rounded-lg","w-full","sm:w-auto","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"input","autocomplete","placeholder"],["mat-flat-button","",1,"mt-2","w-full","bg-crediblue-50","rounded-lg","transition","duration-200","text-white","font-semibold","sm:ml-4","sm:mt-0","sm:w-auto",3,"click","color"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-auto","flex-col","overflow-hidden","sm:mb-18","sm:overflow-y-auto"],["mat-stretch-tabs","false",1,"sm:px-2",3,"selectedIndexChange","selectedTabChange","animationDuration","selectedIndex"],["label","Pendientes"],["matTabContent",""],["label","Pagados"],[4,"ngIf","ngIfElse"],[3,"columns","displayedColumns","columnPropertyMap","data","buttons","searchTerm"],[1,"inset-0","min-w-0","overflow-auto","print:overflow-visible"],[1,"inline-block","p-4","sm:p-2","print:p-0","w-full"],[3,"type","appearance"],["fuseAlertTitle",""]],template:function(t,o){if(t&1){let u=Q();a(0,"div",2)(1,"div",3)(2,"div",4),n(3,"Registro de Cobro Individual"),i(),a(4,"div",5)(5,"mat-form-field",6),c(6,"mat-icon",7),a(7,"input",8),x("input",function(g){return _(u),T(o.onSearch(g))}),i()(),a(8,"button",9),x("click",function(){return _(u),T(o.onNew())}),c(9,"mat-icon",10),a(10,"span",11),n(11,"Registrar"),i()()()(),a(12,"div",12)(13,"div",13)(14,"mat-tab-group",14,0),Pe("selectedIndexChange",function(g){return _(u),we(o.tabIndex,g)||(o.tabIndex=g),T(g)}),x("selectedTabChange",function(g){return _(u),T(o.tabChanged(g))}),a(16,"mat-tab",15),b(17,pt,3,2,"ng-template",16),i(),a(18,"mat-tab",17),b(19,ft,3,2,"ng-template",16),i()()()()()}t&2&&(l(5),d("subscriptSizing","dynamic"),l(),d("svgIcon","heroicons_solid:magnifying-glass"),l(),d("autocomplete","off")("placeholder","Buscar"),l(),d("color","primary"),l(),d("svgIcon","heroicons_outline:plus"),l(5),d("animationDuration","500"),Ee("selectedIndex",o.tabIndex))},dependencies:[ue,B,R,te,$,ce,Ye,Xe,et,X]});let r=s;return r})();var gt=(r,s)=>({"bg-credigray-100":r,"bg-green-600":s});function bt(r,s){if(r&1&&(a(0,"mat-option",27),n(1),i()),r&2){let m=s.$implicit;d("value",m.id),l(),C(m.razonSocial)}}function vt(r,s){if(r&1&&(J(0),b(1,bt,2,2,"mat-option",15),Z()),r&2){let m=s.ngIf;l(),d("ngForOf",m.data)}}function ht(r,s){if(r&1&&(a(0,"mat-option",27),n(1),i()),r&2){let m=s.$implicit;d("value",m),l(),Te(" ",m.primerNombre," ",m.primerApellido," ")}}function xt(r,s){r&1&&(a(0,"div",28)(1,"mat-form-field",29)(2,"mat-label"),n(3,"Observaciones"),i(),c(4,"textarea",30),i()()),r&2&&(l(4),d("formControlName","observacion"))}function Ct(r,s){if(r&1&&(a(0,"div",23)(1,"div",31)(2,"p",32),n(3,"Movimientos"),i(),c(4,"app-custom-table",33),i()()),r&2){let m=v();l(4),d("columns",m.columns)("displayedColumns",m.columns)("columnPropertyMap",m.columnPropertyMap)("data",m.data)}}function yt(r,s){if(r&1&&(a(0,"div",24)(1,"div",34)(2,"fuse-alert",35)(3,"span",36),n(4,"Informaci\xF3n"),i(),n(5),i()()()),r&2){let m=v();l(2),d("type","info")("appearance","outline"),l(3),M(" ",m.message," ")}}function St(r,s){if(r&1&&(a(0,"span",26),n(1,"Subtotal: "),a(2,"span",37),n(3),y(4,"currency"),i()()),r&2){let m=v();l(3),C(k(4,1,m.subtotal))}}function _t(r,s){if(r&1&&(a(0,"span",26),n(1,"Comisiones: "),a(2,"span",37),n(3),y(4,"currency"),i()()),r&2){let m=v();l(3),C(k(4,1,m.totalComision))}}function Tt(r,s){if(r&1&&(a(0,"span",26),n(1,"Total a pagar: "),a(2,"span",37),n(3),y(4,"currency"),i()()),r&2){let m=v();l(3),M(" ",k(4,1,m.totalPagar)," ")}}var Et={validation:!1},rt=(()=>{let s=class s{constructor(){this.fb=p(se),this.empresaClienteService=p(Ke),this.pagoTrabajadorService=p(F),this.cobroTrabajadorService=p(at),this.datePipe=p(S),this.swalService=p(pe),this.estadosDatosService=p(z),this.fuseService=p(ae),this.currencyPipe=p(h),this.decimalPipe=p(N),this.router=p(V),this.empleadosService=p(Qe),this.empleadoControl=new Re(""),this.aesEncriptService=p(tt),this.empresa$=this.empresaClienteService.getEmpresasClientes().pipe(H(e=>{let t=e.data;t&&(this.form.get("idSubEmpresa").setValue(t[0].id),this.getEmpleadosSubEmpresas(t[0].id))})),this.tipoPago$=this.pagoTrabajadorService.tipoPagoTrabajadores().pipe(H(e=>{let t=e.data;t&&(this.selectOptionValue=t)})),this.empleados=[],this.data=[],this.columns=["Empresa","N factura / Comprobante","Valor pendiente"],this.columnPropertyMap={Empresa:"nombreSubEmpresa","N factura / Comprobante":"numeroFactura","Valor pendiente":"valorPendiente"}}displayFn(e){return e?`${e.primerNombre} ${e.primerApellido}`:""}_filter(e){let t=e.toLowerCase();return this.empleados.filter(o=>`${o.primerNombre} ${o.primerApellido}`.toLowerCase().includes(t))}onOptionSelected(e){let t=e.option.value;this.empleadoControl.setValue(t),this.form.get("idTrabajador").setValue(t.id)}createForm(){this.form=this.fb.group({fechaFinal:["",L.required],idSubEmpresa:["",L.required],idTrabajador:["",L.required],observacion:[""]})}ngOnInit(){this.createForm(),this.filteredEmpleados$=this.empleadoControl.valueChanges.pipe(_e(""),be(e=>{let t=typeof e=="string"?e:e?.primerNombre||e?.primerApellido;return t?this._filter(t):this.empleados.slice()}))}actualizaSelected(e){e===this.totalPagar?(console.log("Si entra al actualizar"),this.form.get("idTipoPagoTrabajador").setValue(this.selectOptionValue[0].id)):e<this.totalPagar&&(console.log("Si entra al actualizar 2"),this.form.get("idTipoPagoTrabajador").setValue(this.selectOptionValue[1].id))}get valorAbono(){return this.form.get("valorAbono")}maxAmountValidator(e){if(e.value===null||e.value===void 0||e.value==="")return null;console.log(e.value);let t=parseFloat(e.value.toString().replace(/,/g,""));return console.log(t),t===0?{valueZero:!0}:t>this.totalPagar?(console.log("Si entra"),{exceedsBalance:!0}):null}closeDialog(){this.router.navigate(["/pages/gestion-cobros/trabajador"])}getEmpleadosSubEmpresas(e){this.empleadosService.getEmpleadosSubempresas(e).subscribe(t=>{t.data&&(this.empleados=t.data)})}selectedEmpleados(e){let t=e.value;this.empleadosService.getEmpleadosSubempresas(t).subscribe(o=>{o.data&&(this.empleados=o.data,this.empleadoControl.reset(""))})}onGet(){if(this.form.valid){let{fechaFinal:e,idSubEmpresa:t,idTrabajador:o}=this.form.getRawValue(),f={fechaFinallData:this.datePipe.transform(e,"yyyy-MM-dd"),idSubEmpresa:t,idTrabajador:o};console.log(f),this.getAllPagoTrabajador(f)}}onSave(){let ye=this.form.getRawValue(),{fechaFinal:e,idSubEmpresa:t,idTrabajador:o,idTipoPagoTrabajador:u}=ye,f=K(ye,["fechaFinal","idSubEmpresa","idTrabajador","idTipoPagoTrabajador"]),fe={fechaFinal:this.datePipe.transform(e,"yyyy-MM-dd"),idSubEmpresa:t},xe=[];xe=this.data.map(ge=>({idCobroTrabajador:ge.id}));let Ce=j(Se(j({},fe),{detallePagoTrabajador:xe,idTrabajador:o}),f);console.log(Ce),this.fuseService.open(j({},Ue)).afterClosed().subscribe(ge=>{ge==="confirmed"&&this.postSave(Ce)})}getAllPagoTrabajador(e){this.cobroTrabajadorService.getCobroTrabajador(e).pipe(be(t=>(this.subtotal=0,this.totalComision=0,this.totalPagar=0,t&&Array.isArray(t.data)?t.data.forEach(o=>{o.montoCuota&&(o.montoCuota=this.aesEncriptService.decrypt(o.montoCuota)),o.valorPendiente&&(o.valorPendiente=this.aesEncriptService.decrypt(o.valorPendiente)),o.montoCuota=this.currencyPipe.transform(o.montoCuota,"USD","symbol","1.2-2"),o.comision=this.currencyPipe.transform(o.comision,"USD","symbol","1.2-2"),o.pagar=this.currencyPipe.transform(o.pagar,"USD","symbol","1.2-2"),o.valorPendiente=this.currencyPipe.transform(o.valorPendiente,"USD","symbol","1.2-2"),o.fechaCobro=this.datePipe.transform(o.fechaCobro,"dd/MM/yyyy"),this.totalPagar+=parseFloat(o.valorPendiente.replace(/[^0-9.-]+/g,""))}):this.data=[],t))).subscribe(t=>{t&&Array.isArray(t.data)?this.data=t.data:(this.data=[],this.message=t.msg)})}postSave(e){this.pagoTrabajadorService.postPagoTrabajador(e).subscribe(t=>{this.swalService.ToastAler({icon:"success",title:"Registro Creado o Actualizado con Exito.",timer:4e3}),this.estadosDatosService.stateGrid.next(!0),this.closeDialog()},t=>{this.swalService.ToastAler({icon:"error",title:"Ha ocurrido un error al crear el registro!",timer:4e3})})}};s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=E({type:s,selectors:[["app-form-pago-trabajador"]],standalone:!0,features:[w([{provide:O,useClass:q},{provide:G,useValue:"en-GB"},S,h,N,U(Et)]),P],decls:49,vars:26,consts:[["finalPicker",""],["auto","matAutocomplete"],["cdkScrollable","",1,"bg-card","flex","min-w-0","flex-auto","flex-col","dark:bg-transparent","sm:inset-0","sm:overflow-hidden"],[1,"mt-8","text-3xl","font-semibold","leading-tight","tracking-tight","pl-8"],[1,"relative","flex","flex-0","flex-col","border-b","px-6","sm:flex-row","md:px-8"],[1,"mt-6","w-full","shrink-0","sm:mt-0","sm:space-x-2","lg:w-full"],[1,"mt-8",3,"formGroup"],[1,"flex","flex-col","sm:flex-row","gap-2.5"],["floatLabel","always",1,"w-full","min-w-90"],["matInput","","placeholder","dd/mm/yyyy",3,"matDatepicker","formControlName"],["matIconSuffix","",3,"for"],["placeholder","Empresa",3,"selectionChange","formControlName"],[4,"ngIf"],["type","text","placeholder","Trabajadores","matInput","",3,"formControl","matAutocomplete"],[3,"optionSelected","displayWith"],[3,"value",4,"ngFor","ngForOf"],["class","flex flex-col items-baseline sm:flex-row gap-2.5",4,"ngIf"],[1,"relative","border","border-gray-300","rounded-lg"],[1,"absolute","-top-3","left-4","bg-white","px-2","text-gray-500","font-semibold"],[1,"flex","flex-wrap","justify-end","gap-2.5","sm:mb-4","pr-2"],["mat-flat-button","",1,"sm:w-auto","w-full","sm:mt-6","bg-credigray-100","rounded-lg","transition","duration-200","text-white","font-semibold",3,"click","color"],["mat-flat-button","",1,"sm:w-auto","w-full","sm:mt-6","bg-crediblue-50","rounded-lg","transition","duration-200","text-white","font-semibold",3,"click","color"],["mat-flat-button","",1,"lg:w-auto","w-full","sm:mt-6","transition","duration-200","text-white","font-semibold","rounded-lg","md:w-auto",3,"click","ngClass","disabled"],[1,"flex","flex-auto","overflow-hidden"],[1,"inset-0","min-w-0","overflow-auto","print:overflow-visible"],[1,"flex","flex-col","gap-4","justify-end","sm:flex-row"],[1,"sm:pr-4","text-gray-600","font-bold","text-right"],[3,"value"],[1,"flex","flex-col","items-baseline","sm:flex-row","gap-2.5"],["floatLabel","always",1,"w-full"],["matInput","","placeholder","Observaciones",3,"formControlName"],[1,"flex","flex-auto","flex-col","overflow-hidden","sm:p-4","sm:mb-10","sm:overflow-y-auto"],[1,"text-lg","text-black","font-semibold","mb-4"],[3,"columns","displayedColumns","columnPropertyMap","data"],[1,"inline-block","p-4","sm:p-8","print:p-0","w-full"],[3,"type","appearance"],["fuseAlertTitle",""],[1,"text-gray-800"]],template:function(t,o){if(t&1){let u=Q();a(0,"div",2)(1,"div",3),n(2," Cobro Individual "),i(),a(3,"div",4)(4,"div",5)(5,"form",6)(6,"div",7)(7,"mat-form-field",8)(8,"mat-label"),n(9,"Fecha de corte"),i(),c(10,"input",9)(11,"mat-datepicker-toggle",10)(12,"mat-datepicker",null,0),i(),a(14,"mat-form-field",8)(15,"mat-label"),n(16,"Empresa"),i(),a(17,"mat-select",11),x("selectionChange",function(g){return _(u),T(o.selectedEmpleados(g))}),b(18,vt,2,1,"ng-container",12),y(19,"async"),i()()(),a(20,"div",7)(21,"mat-form-field",8)(22,"mat-label"),n(23,"Trabajadores"),i(),c(24,"input",13),a(25,"mat-autocomplete",14,1),x("optionSelected",function(g){return _(u),T(o.onOptionSelected(g))}),b(27,ht,2,3,"mat-option",15),y(28,"async"),i()()(),b(29,xt,5,1,"div",16),a(30,"div",17)(31,"div",18),n(32," Opciones "),i(),a(33,"div",19)(34,"button",20),x("click",function(){return _(u),T(o.closeDialog())}),a(35,"span"),n(36," Atras "),i()(),a(37,"button",21),x("click",function(){return _(u),T(o.onGet())}),a(38,"span"),n(39," Consultar "),i()(),a(40,"button",22),x("click",function(){return _(u),T(o.onSave())}),a(41,"span"),n(42," Registrar "),i()()()()()()(),b(43,Ct,5,4,"div",23)(44,yt,6,3,"div",24),a(45,"div",25),b(46,St,5,3,"span",26)(47,_t,5,3,"span",26)(48,Tt,5,3,"span",26),i()()}if(t&2){let u=I(13),f=I(26);l(5),d("formGroup",o.form),l(5),d("matDatepicker",u)("formControlName","fechaFinal"),l(),d("for",u),l(6),d("formControlName","idSubEmpresa"),l(),d("ngIf",k(19,19,o.empresa$)),l(6),d("formControl",o.empleadoControl)("matAutocomplete",f),l(),d("displayWith",o.displayFn),l(2),d("ngForOf",k(28,21,o.filteredEmpleados$)),l(2),d("ngIf",o.data.length),l(5),d("color","primary"),l(3),d("color","primary"),l(3),d("ngClass",Fe(23,gt,o.data.length==0,o.data.length>0))("disabled",o.data.length==0||o.form.invalid),l(3),D(o.data.length?43:o.message?44:-1),l(3),D(o.subtotal?46:-1),l(),D(o.totalComision?47:-1),l(),D(o.totalPagar?48:-1)}},dependencies:[Ie,h,ue,ce,B,He,Je,Ze,R,$,ee,ke,qe,Oe,je,X,de,ne,ie,oe,re,Be,le,me,De,Y,$e,ze]});let r=s;return r})();function wt(r,s){if(r&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),n(6," N\xFAmero de pago "),i(),a(7,"div",6),n(8),i(),a(9,"div",7)(10,"div",8),n(11),i()(),c(12,"div",9),a(13,"div",10),n(14," Periodo inicial "),i(),a(15,"div",11),n(16),y(17,"date"),i(),a(18,"div",10),n(19," Periodo final "),i(),a(20,"div",11),n(21),y(22,"date"),i(),a(23,"div",10),n(24," Total "),i(),a(25,"div",11),n(26),y(27,"currency"),i(),a(28,"div",10),n(29," Estado "),i(),a(30,"div",11),n(31),i()(),a(32,"div",12)(33,"div",13),c(34,"img",14),i(),a(35,"div",15)(36,"div"),n(37,"Calle 70B Cra 41 # 187"),i(),a(38,"div"),n(39,"Barranquilla - Atlantico"),i(),a(40,"div"),n(41,"+57 301 2523319"),i(),a(42,"div"),n(43,"info@crediplus.com.co"),i(),a(44,"a",16),n(45,"crediplus.com.co"),i()()()(),a(46,"div",17),c(47,"div",18),a(48,"div",19),n(49," Observaciones "),i(),a(50,"div",20),n(51),i(),a(52,"div",21),n(53," Subtotal "),i(),a(54,"div",22),n(55),y(56,"currency"),i(),c(57,"div",23),a(58,"div",24),n(59," Total a cobrar "),i(),a(60,"div",25),n(61),y(62,"currency"),i()()()()()),r&2){let m=v();l(8),C(m.detalleFactura.consecutivo),l(3),M("Trabajador: ",m.detalleFactura.nombreTrabajador,""),l(5),C(A(17,9,m.detalleFactura.fechaIncial,"dd/MM/yyyy")),l(5),C(A(22,12,m.detalleFactura.fechaFinal,"dd/MM/yyyy")),l(5),C(A(27,15,m.detalleFactura.total,"USD")),l(5),C(m.detalleFactura.nombreEstadoCobro),l(20),C(m.detalleFactura.observacion),l(4),C(A(56,18,m.detalleFactura.total,"USD")),l(6),M(" ",A(62,21,m.detalleFactura.total,"USD")," ")}}var Pt={validation:!1},nt=(()=>{let s=class s{constructor(){this.fuseService=p(ae),this.currencyPipe=p(h),this.decimalPipe=p(N),this.router=p(V),this.activatedRoute=p(Me),this.datePipe=p(S),this.pagoTrabajadorService=p(F)}ngOnDestroy(){}ngOnInit(){let e=this.activatedRoute.snapshot.paramMap.get("id");this.getPagoIndividual(e)}getPagoIndividual(e){this.subcription$=this.pagoTrabajadorService.getPagosTrabajadorIndividual(e).subscribe(t=>{t.data&&(this.detalleFactura=t.data)})}};s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=E({type:s,selectors:[["app-form-view-pago-trabajador"]],standalone:!0,features:[w([{provide:O,useClass:q},{provide:G,useValue:"en-GB"},S,h,N,U(Pt)]),P],decls:1,vars:1,consts:[["cdkScrollable","",1,"absolute","inset-0","min-w-0","overflow-auto","text-center","print:overflow-visible"],[1,"inline-block","p-6","text-left","sm:p-10","print:p-0"],[1,"bg-card","w-240","rounded-2xl","p-16","shadow","print:w-auto","print:rounded-none","print:bg-transparent","print:shadow-none"],[1,"flex","items-start","justify-between"],[1,"grid","grid-cols-2","gap-x-4","gap-y-1"],[1,"text-secondary","text-2xl","tracking-tight"],[1,"text-2xl"],[1,"text-md","mt-6"],[1,"text-xl","font-medium"],[1,"text-secondary","font-medium","tracking-tight","col-span-2"],[1,"text-secondary","font-medium","tracking-tight"],[1,"font-medium"],[1,"dark","-mr-16","grid","auto-cols-max","grid-flow-col","gap-x-8","rounded-l-2xl","bg-accent","px-8","py-6"],[1,"w-24","place-self-center"],["src","images/logo/logo-blanco.svg",1,"w-24"],[1,"border-l","pl-10","text-md"],["target","_blank","href","https://crediplus.com.co"],[1,"mt-12","grid","grid-cols-12","gap-x-1"],[1,"col-span-12","mt-16"],[1,"text-secondary","col-span-2","self-center","font-medium","tracking-tight"],[1,"col-span-10","text-right","text-lg"],[1,"text-secondary","col-span-10","self-center","font-medium","tracking-tight"],[1,"col-span-2","text-right","text-lg"],[1,"col-span-12","my-3","border-b"],[1,"text-secondary","col-span-10","self-center","text-2xl","font-medium","tracking-tight"],[1,"col-span-2","text-right","text-2xl","font-medium"]],template:function(t,o){t&1&&b(0,wt,63,24,"div",0),t&2&&D(o.detalleFactura?0:-1)},dependencies:[Y,h,S]});let r=s;return r})();var oi=[{path:"",component:ot},{path:"individual",component:rt},{path:"individual/:id",component:nt}];export{oi as default};
