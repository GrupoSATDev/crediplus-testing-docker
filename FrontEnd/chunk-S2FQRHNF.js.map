{
  "version": 3,
  "sources": ["src/app/pages/dashboard/dashboard-cartera-morosidad/dashboard-cartera-morosidad/dashboard-cartera-morosidad.component.ts", "src/app/pages/dashboard/dashboard-cartera-morosidad/dashboard-cartera-morosidad/dashboard-cartera-morosidad.component.html", "src/app/pages/dashboard/dashboard-cartera-morosidad/cartera-morosidad.routes.ts"],
  "sourcesContent": ["import { Component, inject, OnInit, ViewChild } from '@angular/core';\r\nimport { FuseAlertComponent } from '../../../../../@fuse/components/alert';\r\nimport { DashboardService } from '../../../../core/services/dashboard.service';\r\nimport { ApexOptions, ChartComponent, NgApexchartsModule } from 'ng-apexcharts';\r\nimport { DecimalPipe, NgIf } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-dashboard-cartera-morosidad',\r\n  standalone: true,\r\n    imports: [\r\n        FuseAlertComponent,\r\n        NgApexchartsModule,\r\n        NgIf,\r\n        DecimalPipe,\r\n    ],\r\n  templateUrl: './dashboard-cartera-morosidad.component.html',\r\n  styleUrl: './dashboard-cartera-morosidad.component.scss'\r\n})\r\nexport class DashboardCarteraMorosidadComponent implements  OnInit{\r\n    @ViewChild('chart') chart!: ChartComponent;\r\n    public indicadoresService = inject(DashboardService);\r\n    public chartOptions: ApexOptions;\r\n    public loading = true;\r\n    public montoCobroFijosGanados: number;\r\n    public montoInteresesGanados: number;\r\n\r\n\r\n    ngOnInit(): void {\r\n        this.getIndicadoresCartera();\r\n    }\r\n\r\n    private getIndicadoresCartera() {\r\n        this.indicadoresService.getCarteras().subscribe((response) => {\r\n            const pagos = response.data;\r\n            this.montoCobroFijosGanados = pagos.montoCobroFijosGanados || 0;\r\n            this.montoInteresesGanados = pagos.montoInteresesGanados || 0;\r\n\r\n            this.chartOptions = {\r\n                series: [{\r\n                    name: 'Deudas pendientes',\r\n                    data: []\r\n                }],\r\n                chart: {\r\n                    type: 'bar',\r\n                    height: 400,\r\n                    width: 1000,\r\n                    fontFamily: 'Inter, sans-serif',\r\n                    toolbar: {\r\n                        show: true,\r\n                        tools: {\r\n                            download: false,\r\n                            selection: false,\r\n                            zoom: false,\r\n                            zoomin: false,\r\n                            zoomout: false,\r\n                            pan: false,\r\n                        }\r\n                    },\r\n                    animations: {\r\n                        enabled: true,\r\n                        easing: 'easeinout',\r\n                        speed: 800\r\n                    }\r\n                },\r\n                plotOptions: {\r\n                    bar: {\r\n                        borderRadius: 8,\r\n                        columnWidth: '60%',\r\n                        distributed: true,\r\n                        dataLabels: {\r\n                            position: 'top'\r\n                        },\r\n                    }\r\n                },\r\n                colors: [\r\n                    '#155ee9', // Sky blue\r\n                    '#14B8A6', // Teal\r\n                    '#162683', // Violet\r\n                    '#ff7e0b', // Amber\r\n                    '#EC4899'  // Pink\r\n                ],\r\n                dataLabels: {\r\n                    enabled: true,\r\n                    formatter: function(val: number) {\r\n                        return new Intl.NumberFormat('es-CO', {\r\n                            style: 'currency',\r\n                            currency: 'COP',\r\n                            minimumFractionDigits: 0,\r\n                            maximumFractionDigits: 0\r\n                        }).format(val);\r\n                    },\r\n                    offsetY: -20,\r\n                    style: {\r\n                        fontSize: '12px',\r\n                        colors: ['#333']\r\n                    }\r\n                },\r\n                title: {\r\n                    text: 'Pagos Pendientes por Empresa',\r\n                    align: 'center',\r\n                    style: {\r\n                        fontSize: '20px',\r\n                        fontWeight: '600',\r\n                        color: '#1F2937'\r\n                    }\r\n                },\r\n                subtitle: {\r\n                    text: 'Total de pagos por procesar',\r\n                    align: 'center',\r\n                    style: {\r\n                        fontSize: '14px',\r\n                        color: '#6B7280'\r\n                    }\r\n                },\r\n                xaxis: {\r\n                    categories: [],\r\n                    labels: {\r\n                        style: {\r\n                            fontSize: '12px',\r\n                            colors: '#4B5563'\r\n                        },\r\n                        rotate: -45,\r\n                        rotateAlways: false,\r\n                        trim: true,\r\n                        maxHeight: 120\r\n                    },\r\n                    axisBorder: {\r\n                        show: false\r\n                    },\r\n                    axisTicks: {\r\n                        show: false\r\n                    }\r\n                },\r\n                yaxis: {\r\n                    title: {\r\n                        text: 'Valores',\r\n                        style: {\r\n                            fontSize: '14px',\r\n                            color: '#4B5563'\r\n                        }\r\n                    },\r\n                    labels: {\r\n                        formatter: function(val: number) {\r\n                            return new Intl.NumberFormat('es-CO', {\r\n                                style: 'currency',\r\n                                currency: 'COP',\r\n                                minimumFractionDigits: 0,\r\n                                maximumFractionDigits: 0\r\n                            }).format(val);\r\n                        }\r\n                    }\r\n                },\r\n                grid: {\r\n                    borderColor: '#E5E7EB',\r\n                    strokeDashArray: 4,\r\n                    xaxis: {\r\n                        lines: {\r\n                            show: false\r\n                        }\r\n                    }\r\n                },\r\n                tooltip: {\r\n                    shared: true,\r\n                    intersect: false,\r\n                    y: {\r\n                        formatter: function(val: number) {\r\n                            return new Intl.NumberFormat('es-CO', {\r\n                                style: 'currency',\r\n                                currency: 'COP',\r\n                                minimumFractionDigits: 0,\r\n                                maximumFractionDigits: 0\r\n                            }).format(val);\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n\r\n            // Procesar y agrupar los pagos por subempresa\r\n            const pagosPorSubempresa = new Map<string, number>();\r\n\r\n            pagos.pagosPendientes.forEach((pago: any) => {\r\n                const totalActual = pagosPorSubempresa.get(pago.nombreSubempresa) || 0;\r\n                pagosPorSubempresa.set(pago.nombreSubempresa, totalActual + pago.total - pago.totalAbono);\r\n            });\r\n\r\n            // Actualizar las series del gráfico\r\n            this.chartOptions.series = [{\r\n                name: 'Pagos pendientes',\r\n                data: Array.from(pagosPorSubempresa.values())\r\n            }];\r\n\r\n            // Actualizar las categorías\r\n            this.chartOptions.xaxis.categories = Array.from(pagosPorSubempresa.keys());\r\n            this.loading = false;\r\n\r\n        })\r\n    }\r\n\r\n}\r\n", "<div\r\n    class=\"relative min-w-0 flex h-full w-full flex-col dark:bg-transparent sm:overflow-hidden sm:inset-0\"\r\n>\r\n    <div\r\n        class=\"relative flex flex-0 flex-col px-6 py-6 sm:flex-row sm:items-center sm:justify-between md:px-8\"\r\n    >\r\n        <div class=\"text-3xl font-semibold tracking-tight\">Dashboard de Cartera y Morosidad</div>\r\n\r\n    </div>\r\n\r\n\r\n    <div class=\"flex w-full lg:flex-row sm:items-center justify-center gap-2.5 lg:gap-2 flex-col p-5\">\r\n        <div class=\"bg-white w-full sm:w-3/4 md:w-2/4 lg:w-1/2 flex flex-col  overflow-hidden rounded-2xl shadow-lg sm:col-span-2 lg:col-span-1 border border-gray-200\">\r\n            <!-- Header Section -->\r\n            <div class=\"px-6 py-4 flex items-start justify-between bg-gradient-to-r from-blue-500 to-blue-900 rounded-t-2xl\">\r\n                <div class=\"truncate text-lg font-semibold leading-6 tracking-tight text-white mx-auto\">\r\n                    Cobros fijos ganados\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Content Section -->\r\n            <div class=\"px-6 py-5 flex sm:items-end lg:gap-3 lg:flex-row lg:items-center mx-auto\">\r\n                <div class=\"mt-3 lg:mt-0 lg:ml-4 flex items-center justify-center w-8 h-8 bg-blue-100 rounded-full\">\r\n                    <span class=\"text-blue-600 text-5xl font-bold\">$</span>\r\n                </div>\r\n                <div class=\"text-4xl font-semibold text-gray-800 leading-tight tracking-tight\">\r\n                    {{ montoCobroFijosGanados | number:  '1.0-0' }}\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <div class=\"bg-white w-full sm:w-3/4 md:w-2/4 lg:w-1/2 flex flex-col  overflow-hidden rounded-2xl shadow-lg sm:col-span-2 lg:col-span-1 border border-gray-200\">\r\n            <!-- Header Section -->\r\n            <div class=\"px-6 py-4 flex items-start justify-between bg-gradient-to-r from-blue-500 to-blue-900 rounded-t-2xl\">\r\n                <div class=\"truncate text-lg font-semibold leading-6 tracking-tight text-white mx-auto\">\r\n                    Intereses fijos ganados\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Content Section -->\r\n            <div class=\"px-6 py-5 flex sm:items-end lg:gap-3 lg:flex-row lg:items-center mx-auto\">\r\n                <div class=\"mt-3 lg:mt-0 lg:ml-4 flex items-center justify-center w-8 h-8 bg-blue-100 rounded-full\">\r\n                    <span class=\"text-blue-600 text-5xl font-bold\">$</span>\r\n                </div>\r\n                <div class=\"text-4xl font-semibold text-gray-800 leading-tight tracking-tight\">\r\n                    {{ montoInteresesGanados | number:  '1.0-0' }}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    <div class=\"max-w-screen-2xl mx-auto p-8\">\r\n        <div class=\"bg-white rounded-xl shadow-lg overflow-hidden\">\r\n            <!-- Loading spinner -->\r\n            <div *ngIf=\"loading\" class=\"flex justify-center items-center h-[550px]\">\r\n                <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-sky-500\"></div>\r\n            </div>\r\n\r\n            <!-- Chart -->\r\n            <div *ngIf=\"!loading\" class=\"p-8\" >\r\n                <apx-chart\r\n                    [series]=\"chartOptions.series\"\r\n                    [chart]=\"chartOptions.chart\"\r\n                    [xaxis]=\"chartOptions.xaxis\"\r\n                    [yaxis]=\"chartOptions.yaxis\"\r\n                    [dataLabels]=\"chartOptions.dataLabels\"\r\n                    [title]=\"chartOptions.title\"\r\n                    [subtitle]=\"chartOptions.subtitle\"\r\n                    [tooltip]=\"chartOptions.tooltip\"\r\n                    [plotOptions]=\"chartOptions.plotOptions\"\r\n                    [colors]=\"chartOptions.colors\"\r\n                    [grid]=\"chartOptions.grid\"\r\n                    class=\"w-full h-full\"\r\n                ></apx-chart>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n</div>\r\n", "import { Routes } from '@angular/router';\r\nimport {\r\n    DashboardCarteraMorosidadComponent\r\n} from './dashboard-cartera-morosidad/dashboard-cartera-morosidad.component';\r\n\r\nexport default [\r\n    {\r\n        path: '',\r\n        component: DashboardCarteraMorosidadComponent\r\n    }\r\n] as Routes;\r\n"],
  "mappings": "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",
  "names": []
}
