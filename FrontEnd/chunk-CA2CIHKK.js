import{a as Do}from"./chunk-UHN5DKPC.js";import{a as Pe}from"./chunk-LLMKJCSC.js";import{a as wo}from"./chunk-KTT3M535.js";import{a as vo}from"./chunk-CFJSYZ3M.js";import{a as _o}from"./chunk-JJGIB4UC.js";import{a as bo}from"./chunk-PR4SMMMA.js";import{a as Ze}from"./chunk-G2MI45FK.js";import{a as uo}from"./chunk-N7BRYQMC.js";import{a as Io}from"./chunk-CMPJ3OSW.js";import{a as ho,b as Co,c as Eo}from"./chunk-JDA76RF6.js";import{a as yo}from"./chunk-N3QIRYNR.js";import{a as fo,b as go}from"./chunk-XVIRI3LF.js";import{a as So}from"./chunk-QETDVRLC.js";import{a as po}from"./chunk-QKXBZ27Z.js";import{b as Qe}from"./chunk-YHNXG437.js";import{a as Re}from"./chunk-K7UKSVEC.js";import{a as Xe}from"./chunk-6IEWE3OU.js";import{a as mo}from"./chunk-5LJ3IWLD.js";import{a as co}from"./chunk-BW2UNIQM.js";import{a as lo}from"./chunk-4HNTIYYB.js";import{g as Xt}from"./chunk-AYHPHLPH.js";import{a as Te,b as Ae,c as Yt,d as Wt}from"./chunk-C7ANG7GI.js";import"./chunk-566EJEQN.js";import{C as ao,F as so,J as Be,b as Qt,e as Zt,i as Fe,l as eo,p as to,q as oo,u as no,x as io,y as ro}from"./chunk-NFNLINIV.js";import"./chunk-32OSWJVT.js";import{Q as Gt,R as Jt,ba as Kt,ga as fe,la as Me}from"./chunk-IP22JCCO.js";import"./chunk-VFBDOJ4Z.js";import{b as W}from"./chunk-J6S3X3IJ.js";import{$a as Bt,Ac as Ot,Bc as zt,Cb as V,Dc as $t,Ea as Ft,Eb as de,Ec as We,Ic as Ht,Lb as me,Mb as p,Nb as j,Nc as Y,Oa as Mt,Ob as ue,Pb as kt,Qa as d,Ra as ce,Vb as qt,Wb as pe,_ as L,ba as J,ca as xt,cc as U,dc as O,fc as Vt,ga as M,gb as _,ha as w,ib as m,ma as K,mb as Rt,na as Nt,nc as jt,oa as Tt,pb as Pt,q as Ye,tb as u,ub as c,va as At,vb as C,wa as oe,wb as A,xa as ne,xb as F,zb as Lt,zc as Ut}from"./chunk-VNCXNJPE.js";import{a as te,d as Ne,e as v,f as Un,g as Dt}from"./chunk-NEB6MB4Y.js";var Mo=v((Xr,Fo)=>{Fo.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var Q=v(re=>{var nt,ui=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];re.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};re.getSymbolTotalCodewords=function(e){return ui[e]};re.getBCHDigit=function(o){let e=0;for(;o!==0;)e++,o>>>=1;return e};re.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');nt=e};re.isKanjiModeEnabled=function(){return typeof nt<"u"};re.toSJIS=function(e){return nt(e)}});var ke=v(B=>{B.L={bit:1};B.M={bit:0};B.Q={bit:3};B.H={bit:2};function pi(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return B.L;case"m":case"medium":return B.M;case"q":case"quartile":return B.Q;case"h":case"high":return B.H;default:throw new Error("Unknown EC Level: "+o)}}B.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};B.from=function(e,t){if(B.isValid(e))return e;try{return pi(e)}catch{return t}}});var Po=v((oa,Ro)=>{function Bo(){this.buffer=[],this.length=0}Bo.prototype={get:function(o){let e=Math.floor(o/8);return(this.buffer[e]>>>7-o%8&1)===1},put:function(o,e){for(let t=0;t<e;t++)this.putBit((o>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),o&&(this.buffer[e]|=128>>>this.length%8),this.length++}};Ro.exports=Bo});var ko=v((na,Lo)=>{function ye(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}ye.prototype.set=function(o,e,t,n){let i=o*this.size+e;this.data[i]=t,n&&(this.reservedBit[i]=!0)};ye.prototype.get=function(o,e){return this.data[o*this.size+e]};ye.prototype.xor=function(o,e,t){this.data[o*this.size+e]^=t};ye.prototype.isReserved=function(o,e){return this.reservedBit[o*this.size+e]};Lo.exports=ye});var qo=v(qe=>{var fi=Q().getSymbolSize;qe.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,n=fi(e),i=n===145?26:Math.ceil((n-13)/(2*t-2))*2,r=[n-7];for(let a=1;a<t-1;a++)r[a]=r[a-1]-i;return r.push(6),r.reverse()};qe.getPositions=function(e){let t=[],n=qe.getRowColCoords(e),i=n.length;for(let r=0;r<i;r++)for(let a=0;a<i;a++)r===0&&a===0||r===0&&a===i-1||r===i-1&&a===0||t.push([n[r],n[a]]);return t}});var Uo=v(jo=>{var gi=Q().getSymbolSize,Vo=7;jo.getPositions=function(e){let t=gi(e);return[[0,0],[t-Vo,0],[0,t-Vo]]}});var Oo=v(S=>{S.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var ae={N1:3,N2:3,N3:40,N4:10};S.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};S.from=function(e){return S.isValid(e)?parseInt(e,10):void 0};S.getPenaltyN1=function(e){let t=e.size,n=0,i=0,r=0,a=null,s=null;for(let l=0;l<t;l++){i=r=0,a=s=null;for(let f=0;f<t;f++){let g=e.get(l,f);g===a?i++:(i>=5&&(n+=ae.N1+(i-5)),a=g,i=1),g=e.get(f,l),g===s?r++:(r>=5&&(n+=ae.N1+(r-5)),s=g,r=1)}i>=5&&(n+=ae.N1+(i-5)),r>=5&&(n+=ae.N1+(r-5))}return n};S.getPenaltyN2=function(e){let t=e.size,n=0;for(let i=0;i<t-1;i++)for(let r=0;r<t-1;r++){let a=e.get(i,r)+e.get(i,r+1)+e.get(i+1,r)+e.get(i+1,r+1);(a===4||a===0)&&n++}return n*ae.N2};S.getPenaltyN3=function(e){let t=e.size,n=0,i=0,r=0;for(let a=0;a<t;a++){i=r=0;for(let s=0;s<t;s++)i=i<<1&2047|e.get(a,s),s>=10&&(i===1488||i===93)&&n++,r=r<<1&2047|e.get(s,a),s>=10&&(r===1488||r===93)&&n++}return n*ae.N3};S.getPenaltyN4=function(e){let t=0,n=e.data.length;for(let r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(t*100/n/5)-10)*ae.N4};function hi(o,e,t){switch(o){case S.Patterns.PATTERN000:return(e+t)%2===0;case S.Patterns.PATTERN001:return e%2===0;case S.Patterns.PATTERN010:return t%3===0;case S.Patterns.PATTERN011:return(e+t)%3===0;case S.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case S.Patterns.PATTERN101:return e*t%2+e*t%3===0;case S.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case S.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}S.applyMask=function(e,t){let n=t.size;for(let i=0;i<n;i++)for(let r=0;r<n;r++)t.isReserved(r,i)||t.xor(r,i,hi(e,r,i))};S.getBestMask=function(e,t){let n=Object.keys(S.Patterns).length,i=0,r=1/0;for(let a=0;a<n;a++){t(a),S.applyMask(a,e);let s=S.getPenaltyN1(e)+S.getPenaltyN2(e)+S.getPenaltyN3(e)+S.getPenaltyN4(e);S.applyMask(a,e),s<r&&(r=s,i=a)}return i}});var rt=v(it=>{var Z=ke(),Ve=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],je=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];it.getBlocksCount=function(e,t){switch(t){case Z.L:return Ve[(e-1)*4+0];case Z.M:return Ve[(e-1)*4+1];case Z.Q:return Ve[(e-1)*4+2];case Z.H:return Ve[(e-1)*4+3];default:return}};it.getTotalCodewordsCount=function(e,t){switch(t){case Z.L:return je[(e-1)*4+0];case Z.M:return je[(e-1)*4+1];case Z.Q:return je[(e-1)*4+2];case Z.H:return je[(e-1)*4+3];default:return}}});var zo=v(Oe=>{var Se=new Uint8Array(512),Ue=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)Se[t]=e,Ue[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)Se[t]=Se[t-255]})();Oe.log=function(e){if(e<1)throw new Error("log("+e+")");return Ue[e]};Oe.exp=function(e){return Se[e]};Oe.mul=function(e,t){return e===0||t===0?0:Se[Ue[e]+Ue[t]]}});var $o=v(we=>{var at=zo();we.mul=function(e,t){let n=new Uint8Array(e.length+t.length-1);for(let i=0;i<e.length;i++)for(let r=0;r<t.length;r++)n[i+r]^=at.mul(e[i],t[r]);return n};we.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){let i=n[0];for(let a=0;a<t.length;a++)n[a]^=at.mul(t[a],i);let r=0;for(;r<n.length&&n[r]===0;)r++;n=n.slice(r)}return n};we.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let n=0;n<e;n++)t=we.mul(t,new Uint8Array([1,at.exp(n)]));return t}});var Jo=v((da,Go)=>{var Ho=$o();function st(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}st.prototype.initialize=function(e){this.degree=e,this.genPoly=Ho.generateECPolynomial(this.degree)};st.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let n=Ho.mod(t,this.genPoly),i=this.degree-n.length;if(i>0){let r=new Uint8Array(this.degree);return r.set(n,i),r}return n};Go.exports=st});var lt=v(Ko=>{Ko.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var ct=v(H=>{var Yo="[0-9]+",Ci="[A-Z $%*+\\-./:]+",_e="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";_e=_e.replace(/u/g,"\\u");var Ei="(?:(?![A-Z0-9 $%*+\\-./:]|"+_e+`)(?:.|[\r
]))+`;H.KANJI=new RegExp(_e,"g");H.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");H.BYTE=new RegExp(Ei,"g");H.NUMERIC=new RegExp(Yo,"g");H.ALPHANUMERIC=new RegExp(Ci,"g");var vi=new RegExp("^"+_e+"$"),yi=new RegExp("^"+Yo+"$"),Si=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");H.testKanji=function(e){return vi.test(e)};H.testNumeric=function(e){return yi.test(e)};H.testAlphanumeric=function(e){return Si.test(e)}});var X=v(I=>{var wi=lt(),dt=ct();I.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};I.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};I.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};I.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};I.MIXED={bit:-1};I.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!wi.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};I.getBestModeForData=function(e){return dt.testNumeric(e)?I.NUMERIC:dt.testAlphanumeric(e)?I.ALPHANUMERIC:dt.testKanji(e)?I.KANJI:I.BYTE};I.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};I.isValid=function(e){return e&&e.bit&&e.ccBits};function _i(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return I.NUMERIC;case"alphanumeric":return I.ALPHANUMERIC;case"kanji":return I.KANJI;case"byte":return I.BYTE;default:throw new Error("Unknown mode: "+o)}}I.from=function(e,t){if(I.isValid(e))return e;try{return _i(e)}catch{return t}}});var en=v(se=>{var ze=Q(),bi=rt(),Wo=ke(),ee=X(),mt=lt(),Zo=7973,Qo=ze.getBCHDigit(Zo);function Ii(o,e,t){for(let n=1;n<=40;n++)if(e<=se.getCapacity(n,t,o))return n}function Xo(o,e){return ee.getCharCountIndicator(o,e)+4}function Di(o,e){let t=0;return o.forEach(function(n){let i=Xo(n.mode,e);t+=i+n.getBitsLength()}),t}function xi(o,e){for(let t=1;t<=40;t++)if(Di(o,t)<=se.getCapacity(t,e,ee.MIXED))return t}se.from=function(e,t){return mt.isValid(e)?parseInt(e,10):t};se.getCapacity=function(e,t,n){if(!mt.isValid(e))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=ee.BYTE);let i=ze.getSymbolTotalCodewords(e),r=bi.getTotalCodewordsCount(e,t),a=(i-r)*8;if(n===ee.MIXED)return a;let s=a-Xo(n,e);switch(n){case ee.NUMERIC:return Math.floor(s/10*3);case ee.ALPHANUMERIC:return Math.floor(s/11*2);case ee.KANJI:return Math.floor(s/13);case ee.BYTE:default:return Math.floor(s/8)}};se.getBestVersionForData=function(e,t){let n,i=Wo.from(t,Wo.M);if(Array.isArray(e)){if(e.length>1)return xi(e,i);if(e.length===0)return 1;n=e[0]}else n=e;return Ii(n.mode,n.getLength(),i)};se.getEncodedBits=function(e){if(!mt.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;ze.getBCHDigit(t)-Qo>=0;)t^=Zo<<ze.getBCHDigit(t)-Qo;return e<<12|t}});var rn=v(nn=>{var ut=Q(),on=1335,Ni=21522,tn=ut.getBCHDigit(on);nn.getEncodedBits=function(e,t){let n=e.bit<<3|t,i=n<<10;for(;ut.getBCHDigit(i)-tn>=0;)i^=on<<ut.getBCHDigit(i)-tn;return(n<<10|i)^Ni}});var sn=v((ha,an)=>{var Ti=X();function ge(o){this.mode=Ti.NUMERIC,this.data=o.toString()}ge.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};ge.prototype.getLength=function(){return this.data.length};ge.prototype.getBitsLength=function(){return ge.getBitsLength(this.data.length)};ge.prototype.write=function(e){let t,n,i;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),i=parseInt(n,10),e.put(i,10);let r=this.data.length-t;r>0&&(n=this.data.substr(t),i=parseInt(n,10),e.put(i,r*3+1))};an.exports=ge});var cn=v((Ca,ln)=>{var Ai=X(),pt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function he(o){this.mode=Ai.ALPHANUMERIC,this.data=o}he.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};he.prototype.getLength=function(){return this.data.length};he.prototype.getBitsLength=function(){return he.getBitsLength(this.data.length)};he.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=pt.indexOf(this.data[t])*45;n+=pt.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(pt.indexOf(this.data[t]),6)};ln.exports=he});var mn=v((Ea,dn)=>{"use strict";dn.exports=function(e){for(var t=[],n=e.length,i=0;i<n;i++){var r=e.charCodeAt(i);if(r>=55296&&r<=56319&&n>i+1){var a=e.charCodeAt(i+1);a>=56320&&a<=57343&&(r=(r-55296)*1024+a-56320+65536,i+=1)}if(r<128){t.push(r);continue}if(r<2048){t.push(r>>6|192),t.push(r&63|128);continue}if(r<55296||r>=57344&&r<65536){t.push(r>>12|224),t.push(r>>6&63|128),t.push(r&63|128);continue}if(r>=65536&&r<=1114111){t.push(r>>18|240),t.push(r>>12&63|128),t.push(r>>6&63|128),t.push(r&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer}});var pn=v((va,un)=>{var Fi=mn(),Mi=X();function Ce(o){this.mode=Mi.BYTE,typeof o=="string"&&(o=Fi(o)),this.data=new Uint8Array(o)}Ce.getBitsLength=function(e){return e*8};Ce.prototype.getLength=function(){return this.data.length};Ce.prototype.getBitsLength=function(){return Ce.getBitsLength(this.data.length)};Ce.prototype.write=function(o){for(let e=0,t=this.data.length;e<t;e++)o.put(this.data[e],8)};un.exports=Ce});var gn=v((ya,fn)=>{var Bi=X(),Ri=Q();function Ee(o){this.mode=Bi.KANJI,this.data=o}Ee.getBitsLength=function(e){return e*13};Ee.prototype.getLength=function(){return this.data.length};Ee.prototype.getBitsLength=function(){return Ee.getBitsLength(this.data.length)};Ee.prototype.write=function(o){let e;for(e=0;e<this.data.length;e++){let t=Ri.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),o.put(t,13)}};fn.exports=Ee});var hn=v((Sa,ft)=>{"use strict";var be={single_source_shortest_paths:function(o,e,t){var n={},i={};i[e]=0;var r=be.PriorityQueue.make();r.push(e,0);for(var a,s,l,f,g,y,h,N,b;!r.empty();){a=r.pop(),s=a.value,f=a.cost,g=o[s]||{};for(l in g)g.hasOwnProperty(l)&&(y=g[l],h=f+y,N=i[l],b=typeof i[l]>"u",(b||N>h)&&(i[l]=h,r.push(l,h),n[l]=s))}if(typeof t<"u"&&typeof i[t]>"u"){var D=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(D)}return n},extract_shortest_path_from_predecessor_list:function(o,e){for(var t=[],n=e,i;n;)t.push(n),i=o[n],n=o[n];return t.reverse(),t},find_path:function(o,e,t){var n=be.single_source_shortest_paths(o,e,t);return be.extract_shortest_path_from_predecessor_list(n,t)},PriorityQueue:{make:function(o){var e=be.PriorityQueue,t={},n;o=o||{};for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t.queue=[],t.sorter=o.sorter||e.default_sorter,t},default_sorter:function(o,e){return o.cost-e.cost},push:function(o,e){var t={value:o,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof ft<"u"&&(ft.exports=be)});var bn=v(ve=>{var E=X(),vn=sn(),yn=cn(),Sn=pn(),wn=gn(),Ie=ct(),$e=Q(),Pi=hn();function Cn(o){return unescape(encodeURIComponent(o)).length}function De(o,e,t){let n=[],i;for(;(i=o.exec(t))!==null;)n.push({data:i[0],index:i.index,mode:e,length:i[0].length});return n}function _n(o){let e=De(Ie.NUMERIC,E.NUMERIC,o),t=De(Ie.ALPHANUMERIC,E.ALPHANUMERIC,o),n,i;return $e.isKanjiModeEnabled()?(n=De(Ie.BYTE,E.BYTE,o),i=De(Ie.KANJI,E.KANJI,o)):(n=De(Ie.BYTE_KANJI,E.BYTE,o),i=[]),e.concat(t,n,i).sort(function(a,s){return a.index-s.index}).map(function(a){return{data:a.data,mode:a.mode,length:a.length}})}function gt(o,e){switch(e){case E.NUMERIC:return vn.getBitsLength(o);case E.ALPHANUMERIC:return yn.getBitsLength(o);case E.KANJI:return wn.getBitsLength(o);case E.BYTE:return Sn.getBitsLength(o)}}function Li(o){return o.reduce(function(e,t){let n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function ki(o){let e=[];for(let t=0;t<o.length;t++){let n=o[t];switch(n.mode){case E.NUMERIC:e.push([n,{data:n.data,mode:E.ALPHANUMERIC,length:n.length},{data:n.data,mode:E.BYTE,length:n.length}]);break;case E.ALPHANUMERIC:e.push([n,{data:n.data,mode:E.BYTE,length:n.length}]);break;case E.KANJI:e.push([n,{data:n.data,mode:E.BYTE,length:Cn(n.data)}]);break;case E.BYTE:e.push([{data:n.data,mode:E.BYTE,length:Cn(n.data)}])}}return e}function qi(o,e){let t={},n={start:{}},i=["start"];for(let r=0;r<o.length;r++){let a=o[r],s=[];for(let l=0;l<a.length;l++){let f=a[l],g=""+r+l;s.push(g),t[g]={node:f,lastCount:0},n[g]={};for(let y=0;y<i.length;y++){let h=i[y];t[h]&&t[h].node.mode===f.mode?(n[h][g]=gt(t[h].lastCount+f.length,f.mode)-gt(t[h].lastCount,f.mode),t[h].lastCount+=f.length):(t[h]&&(t[h].lastCount=f.length),n[h][g]=gt(f.length,f.mode)+4+E.getCharCountIndicator(f.mode,e))}}i=s}for(let r=0;r<i.length;r++)n[i[r]].end=0;return{map:n,table:t}}function En(o,e){let t,n=E.getBestModeForData(o);if(t=E.from(e,n),t!==E.BYTE&&t.bit<n.bit)throw new Error('"'+o+'" cannot be encoded with mode '+E.toString(t)+`.
 Suggested mode is: `+E.toString(n));switch(t===E.KANJI&&!$e.isKanjiModeEnabled()&&(t=E.BYTE),t){case E.NUMERIC:return new vn(o);case E.ALPHANUMERIC:return new yn(o);case E.KANJI:return new wn(o);case E.BYTE:return new Sn(o)}}ve.fromArray=function(e){return e.reduce(function(t,n){return typeof n=="string"?t.push(En(n,null)):n.data&&t.push(En(n.data,n.mode)),t},[])};ve.fromString=function(e,t){let n=_n(e,$e.isKanjiModeEnabled()),i=ki(n),r=qi(i,t),a=Pi.find_path(r.map,"start","end"),s=[];for(let l=1;l<a.length-1;l++)s.push(r.table[a[l]].node);return ve.fromArray(Li(s))};ve.rawSplit=function(e){return ve.fromArray(_n(e,$e.isKanjiModeEnabled()))}});var Dn=v(In=>{var Ge=Q(),ht=ke(),Vi=Po(),ji=ko(),Ui=qo(),Oi=Uo(),vt=Oo(),yt=rt(),zi=Jo(),He=en(),$i=rn(),Hi=X(),Ct=bn();function Gi(o,e){let t=o.size,n=Oi.getPositions(e);for(let i=0;i<n.length;i++){let r=n[i][0],a=n[i][1];for(let s=-1;s<=7;s++)if(!(r+s<=-1||t<=r+s))for(let l=-1;l<=7;l++)a+l<=-1||t<=a+l||(s>=0&&s<=6&&(l===0||l===6)||l>=0&&l<=6&&(s===0||s===6)||s>=2&&s<=4&&l>=2&&l<=4?o.set(r+s,a+l,!0,!0):o.set(r+s,a+l,!1,!0))}}function Ji(o){let e=o.size;for(let t=8;t<e-8;t++){let n=t%2===0;o.set(t,6,n,!0),o.set(6,t,n,!0)}}function Ki(o,e){let t=Ui.getPositions(e);for(let n=0;n<t.length;n++){let i=t[n][0],r=t[n][1];for(let a=-2;a<=2;a++)for(let s=-2;s<=2;s++)a===-2||a===2||s===-2||s===2||a===0&&s===0?o.set(i+a,r+s,!0,!0):o.set(i+a,r+s,!1,!0)}}function Yi(o,e){let t=o.size,n=He.getEncodedBits(e),i,r,a;for(let s=0;s<18;s++)i=Math.floor(s/3),r=s%3+t-8-3,a=(n>>s&1)===1,o.set(i,r,a,!0),o.set(r,i,a,!0)}function Et(o,e,t){let n=o.size,i=$i.getEncodedBits(e,t),r,a;for(r=0;r<15;r++)a=(i>>r&1)===1,r<6?o.set(r,8,a,!0):r<8?o.set(r+1,8,a,!0):o.set(n-15+r,8,a,!0),r<8?o.set(8,n-r-1,a,!0):r<9?o.set(8,15-r-1+1,a,!0):o.set(8,15-r-1,a,!0);o.set(n-8,8,1,!0)}function Wi(o,e){let t=o.size,n=-1,i=t-1,r=7,a=0;for(let s=t-1;s>0;s-=2)for(s===6&&s--;;){for(let l=0;l<2;l++)if(!o.isReserved(i,s-l)){let f=!1;a<e.length&&(f=(e[a]>>>r&1)===1),o.set(i,s-l,f),r--,r===-1&&(a++,r=7)}if(i+=n,i<0||t<=i){i-=n,n=-n;break}}}function Qi(o,e,t){let n=new Vi;t.forEach(function(l){n.put(l.mode.bit,4),n.put(l.getLength(),Hi.getCharCountIndicator(l.mode,o)),l.write(n)});let i=Ge.getSymbolTotalCodewords(o),r=yt.getTotalCodewordsCount(o,e),a=(i-r)*8;for(n.getLengthInBits()+4<=a&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let s=(a-n.getLengthInBits())/8;for(let l=0;l<s;l++)n.put(l%2?17:236,8);return Zi(n,o,e)}function Zi(o,e,t){let n=Ge.getSymbolTotalCodewords(e),i=yt.getTotalCodewordsCount(e,t),r=n-i,a=yt.getBlocksCount(e,t),s=n%a,l=a-s,f=Math.floor(n/a),g=Math.floor(r/a),y=g+1,h=f-g,N=new zi(h),b=0,D=new Array(a),k=new Array(a),$=0,R=new Uint8Array(o.buffer);for(let G=0;G<a;G++){let Ke=G<l?g:y;D[G]=R.slice(b,b+Ke),k[G]=N.encode(D[G]),b+=Ke,$=Math.max($,Ke)}let x=new Uint8Array(n),q=0,T,P;for(T=0;T<$;T++)for(P=0;P<a;P++)T<D[P].length&&(x[q++]=D[P][T]);for(T=0;T<h;T++)for(P=0;P<a;P++)x[q++]=k[P][T];return x}function Xi(o,e,t,n){let i;if(Array.isArray(o))i=Ct.fromArray(o);else if(typeof o=="string"){let f=e;if(!f){let g=Ct.rawSplit(o);f=He.getBestVersionForData(g,t)}i=Ct.fromString(o,f||40)}else throw new Error("Invalid data");let r=He.getBestVersionForData(i,t);if(!r)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=r;else if(e<r)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+r+`.
`);let a=Qi(e,t,i),s=Ge.getSymbolSize(e),l=new ji(s);return Gi(l,e),Ji(l),Ki(l,e),Et(l,t,0),e>=7&&Yi(l,e),Wi(l,a),isNaN(n)&&(n=vt.getBestMask(l,Et.bind(null,l,t))),vt.applyMask(n,l),Et(l,t,n),{modules:l,version:e,errorCorrectionLevel:t,maskPattern:n,segments:i}}In.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let n=ht.M,i,r;return typeof t<"u"&&(n=ht.from(t.errorCorrectionLevel,ht.M),i=He.from(t.version),r=vt.from(t.maskPattern),t.toSJISFunc&&Ge.setToSJISFunction(t.toSJISFunc)),Xi(e,i,n,r)}});var St=v(le=>{function xn(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let e=o.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+o);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}le.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:n,scale:n?4:i,margin:t,color:{dark:xn(e.color.dark||"#000000ff"),light:xn(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};le.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};le.getImageWidth=function(e,t){let n=le.getScale(e,t);return Math.floor((e+t.margin*2)*n)};le.qrToImageData=function(e,t,n){let i=t.modules.size,r=t.modules.data,a=le.getScale(i,n),s=Math.floor((i+n.margin*2)*a),l=n.margin*a,f=[n.color.light,n.color.dark];for(let g=0;g<s;g++)for(let y=0;y<s;y++){let h=(g*s+y)*4,N=n.color.light;if(g>=l&&y>=l&&g<s-l&&y<s-l){let b=Math.floor((g-l)/a),D=Math.floor((y-l)/a);N=f[r[b*i+D]?1:0]}e[h++]=N.r,e[h++]=N.g,e[h++]=N.b,e[h]=N.a}}});var Nn=v(Je=>{var wt=St();function er(o,e,t){o.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function tr(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Je.render=function(e,t,n){let i=n,r=t;typeof i>"u"&&(!t||!t.getContext)&&(i=t,t=void 0),t||(r=tr()),i=wt.getOptions(i);let a=wt.getImageWidth(e.modules.size,i),s=r.getContext("2d"),l=s.createImageData(a,a);return wt.qrToImageData(l.data,e,i),er(s,r,a),s.putImageData(l,0,0),r};Je.renderToDataURL=function(e,t,n){let i=n;typeof i>"u"&&(!t||!t.getContext)&&(i=t,t=void 0),i||(i={});let r=Je.render(e,t,i),a=i.type||"image/png",s=i.rendererOpts||{};return r.toDataURL(a,s.quality)}});var Fn=v(An=>{var or=St();function Tn(o,e){let t=o.a/255,n=e+'="'+o.hex+'"';return t<1?n+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':n}function _t(o,e,t){let n=o+e;return typeof t<"u"&&(n+=" "+t),n}function nr(o,e,t){let n="",i=0,r=!1,a=0;for(let s=0;s<o.length;s++){let l=Math.floor(s%e),f=Math.floor(s/e);!l&&!r&&(r=!0),o[s]?(a++,s>0&&l>0&&o[s-1]||(n+=r?_t("M",l+t,.5+f+t):_t("m",i,0),i=0,r=!1),l+1<e&&o[s+1]||(n+=_t("h",a),a=0)):i++}return n}An.render=function(e,t,n){let i=or.getOptions(t),r=e.modules.size,a=e.modules.data,s=r+i.margin*2,l=i.color.light.a?"<path "+Tn(i.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",f="<path "+Tn(i.color.dark,"stroke")+' d="'+nr(a,r,i.margin)+'"/>',g='viewBox="0 0 '+s+" "+s+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+g+' shape-rendering="crispEdges">'+l+f+`</svg>
`;return typeof n=="function"&&n(null,h),h}});var Bn=v(xe=>{var ir=Mo(),bt=Dn(),Mn=Nn(),rr=Fn();function It(o,e,t,n,i){let r=[].slice.call(arguments,1),a=r.length,s=typeof r[a-1]=="function";if(!s&&!ir())throw new Error("Callback required as last argument");if(s){if(a<2)throw new Error("Too few arguments provided");a===2?(i=t,t=e,e=n=void 0):a===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=t,t=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(t=e,e=n=void 0):a===2&&!e.getContext&&(n=t,t=e,e=void 0),new Promise(function(l,f){try{let g=bt.create(t,n);l(o(g,e,n))}catch(g){f(g)}})}try{let l=bt.create(t,n);i(null,o(l,e,n))}catch(l){i(l)}}xe.create=bt.create;xe.toCanvas=It.bind(null,Mn.render);xe.toDataURL=It.bind(null,Mn.renderToDataURL);xe.toString=It.bind(null,function(o,e,t){return rr.render(o,t)})});var xo=(()=>{let e=class e{constructor(n,i){this._http=n,this.appSettings=i}getCargos(){return this._http.get(this.appSettings.cargos.url.base)}postCargos(n){return delete n.id,this._http.post(this.appSettings.cargos.url.base,n)}putCargos(n){let i=n.id;return delete n.id,this._http.put(`${this.appSettings.cargos.url.base}/${i}`,n)}};e.\u0275fac=function(i){return new(i||e)(M(Y),M(W))},e.\u0275prov=J({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();var No=(()=>{let e=class e{constructor(n,i){this._http=n,this.appSettings=i}getRiesgos(){return this._http.get(this.appSettings.riesgos.url.base)}getRiesgo(n){return this._http.get(`${this.appSettings.riesgos.url.base}/${n}`)}};e.\u0275fac=function(i){return new(i||e)(M(Y),M(W))},e.\u0275prov=J({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();var To=(()=>{let e=class e{constructor(n,i){this._http=n,this.appSettings=i}getContratos(){return this._http.get(this.appSettings.tipoContratos.url.base)}};e.\u0275fac=function(i){return new(i||e)(M(Y),M(W))},e.\u0275prov=J({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();var Ao=(()=>{let e=class e{constructor(n,i){this._http=n,this.appSettings=i}getDeducciones(){return this._http.get(this.appSettings.deduccionesLegales.url.base)}};e.\u0275fac=function(i){return new(i||e)(M(Y),M(W))},e.\u0275prov=J({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();function On(o,e){if(o&1&&(A(0),C(1,"img",54),F()),o&2){let t=de();d(),m("src",t.image,Mt)("alt","Profile avatar")}}function zn(o,e){if(o&1&&(u(0,"div",55),p(1),c()),o&2){let t,n=de();d(),ue(" ",(t=n.form.get("primerNombre").value.charAt(0))!==null&&t!==void 0?t:"P"," ")}}function $n(o,e){if(o&1&&(u(0,"mat-option",56),p(1),c()),o&2){let t=e.$implicit;m("value",t.id),d(),j(t.nombre)}}function Hn(o,e){if(o&1&&(A(0),_(1,$n,2,2,"mat-option",42),F()),o&2){let t=e.ngIf;d(),m("ngForOf",t.data)}}function Gn(o,e){if(o&1&&(u(0,"mat-option",56),p(1),c()),o&2){let t=e.$implicit;m("value",t.id),d(),j(t.nombre)}}function Jn(o,e){if(o&1&&(A(0),_(1,Gn,2,2,"mat-option",42),F()),o&2){let t=e.ngIf;d(),m("ngForOf",t.data)}}function Kn(o,e){if(o&1&&(u(0,"mat-option",56),p(1),c()),o&2){let t=e.$implicit;m("value",t.id),d(),j(t.nombre)}}function Yn(o,e){if(o&1&&(A(0),_(1,Kn,2,2,"mat-option",42),F()),o&2){let t=e.ngIf;d(),m("ngForOf",t.data)}}function Wn(o,e){if(o&1&&(u(0,"mat-option",56),p(1),c()),o&2){let t=e.$implicit;m("value",t.id),d(),j(t.nombre)}}function Qn(o,e){if(o&1&&(A(0),_(1,Wn,2,2,"mat-option",42),F()),o&2){let t=e.ngIf;d(),m("ngForOf",t.data)}}function Zn(o,e){if(o&1&&(u(0,"mat-option",56),p(1),c()),o&2){let t=e.$implicit;m("value",t.id),d(),j(t.razonSocial)}}function Xn(o,e){if(o&1&&(A(0),_(1,Zn,2,2,"mat-option",42),F()),o&2){let t=e.ngIf;d(),m("ngForOf",t.data)}}function ei(o,e){if(o&1&&(u(0,"mat-option",56),p(1),c()),o&2){let t=e.$implicit;m("value",t.id),d(),j(t.nombre)}}function ti(o,e){if(o&1&&(u(0,"mat-option",56),p(1),c()),o&2){let t=e.$implicit;m("value",t.id),d(),kt("Porcentaje salud: ",t.porcentajeSalud,"% - Porcentaje pensi\xF3n: ",t.porcentajePension,"%")}}function oi(o,e){if(o&1&&(A(0),_(1,ti,2,3,"mat-option",42),F()),o&2){let t=e.ngIf;d(),m("ngForOf",t.data)}}function ni(o,e){if(o&1&&(A(0),u(1,"div",21)(2,"mat-form-field",22)(3,"mat-label"),p(4,"Deducciones legales"),c(),u(5,"mat-select",57),_(6,oi,2,1,"ng-container",28),U(7,"async"),c()()(),F()),o&2){let t=de();d(5),m("formControlName","idDeduccionLegal")("disabled",!0),d(),m("ngIf",O(7,3,t.deduccion$))}}function ii(o,e){o&1&&(A(0),u(1,"div",21)(2,"mat-form-field",22)(3,"mat-label"),p(4,"Salud"),c(),C(5,"input",58),c(),u(6,"mat-form-field",22)(7,"mat-label"),p(8,"Pensi\xF3n"),c(),C(9,"input",59),c()(),F()),o&2&&(d(5),m("readonly",!0)("formControlName","salud"),d(4),m("readonly",!0)("formControlName","pension"))}function ri(o,e){if(o&1&&(u(0,"mat-option",56),p(1),c()),o&2){let t=e.$implicit;m("value",t.id),d(),j(t.nombre)}}function ai(o,e){if(o&1&&(A(0),_(1,ri,2,2,"mat-option",42),F()),o&2){let t=e.ngIf;d(),m("ngForOf",t.data)}}function si(o,e){if(o&1&&(u(0,"mat-option",56),p(1),c()),o&2){let t=e.$implicit;m("value",t.id),d(),j(t.nombre)}}function li(o,e){if(o&1&&(A(0),_(1,si,2,2,"mat-option",42),F()),o&2){let t=e.ngIf;d(),m("ngForOf",t.data)}}function ci(o,e){if(o&1&&(u(0,"mat-option",56),p(1),c()),o&2){let t=e.$implicit;m("value",t.id),d(),j(t.nombre)}}function di(o,e){if(o&1&&(A(0),_(1,ci,2,2,"mat-option",42),F()),o&2){let t=e.ngIf;d(),m("ngForOf",t.data)}}var mi={validation:!1},ot=(()=>{let e=class e{constructor(){this.fb=w(ao),this.dialogRef=w(Te),this.fuseService=w(Xt),this.estadosDatosService=w(Re),this.toasService=w(po),this.tiposDocumentosService=w(bo),this._locacionService=w(uo),this.generoService=w(Io),this.empresaClienteService=w(vo),this.datePipe=w(We),this.empleadosServices=w(Pe),this.cargosServices=w(xo),this.riesgosServices=w(No),this.bancosServices=w(wo),this.swalService=w(So),this.destroyedRef=w(Ft),this.errorHandlerService=w(Do),this.porcentajeSalud=0,this.porcentajePension=0,this.sumaPorcentaje=0,this.departamentos$=this._locacionService.getDepartamentos().pipe(L(n=>{let i=n.data,r=this._matData;if(i&&!r.edit){this.form.get("idDepartamento").setValue(i[0].id);let a=this.form.get("idDepartamento").value;this.getMunicipios(a)}})),this.tiposDocumentos$=this.tiposDocumentosService.getTiposDocumentos().pipe(L(n=>{let i=n.data,r=this._matData;i&&!r.edit&&this.form.get("idTipoDoc").setValue(i[3].id)})),this.generos$=this.generoService.getGeneros().pipe(L(n=>{let i=n.data,r=this._matData;i&&!r.edit&&this.form.get("idGenero").setValue(i[1].id)})),this.empresasClientes$=this.empresaClienteService.getEmpresasClientes().pipe(L(n=>{let i=n.data,r=this._matData;i&&!r.edit&&this.form.get("idSubEmpresa").setValue(i[0].id)})),this.cargos$=this.cargosServices.getCargos(),this.riesgos$=this.riesgosServices.getRiesgos().pipe(L(n=>{let i=n.data,r=this._matData;i&&!r.edit&&this.form.get("idNivelRiesgo").setValue(i[0].id)})),this.bancos$=this.bancosServices.getBancos().pipe(L(n=>{let i=n.data,r=this._matData;i&&!r.edit&&this.form.get("idBanco").setValue(i[0].id)})),this._matData=w(Ae),this.tipoCuentasService=w(_o),this.tipoCuentas$=this.tipoCuentasService.getTipoCuentas().pipe(L(n=>{let i=n.data,r=this._matData;i&&!r.edit&&this.form.get("idTipoCuenta").setValue(i[0].id)})),this.tipoContratosService=w(To),this.tipoContratos=[],this.deduccioLegalService=w(Ao),this.deduccion$=this.deduccioLegalService.getDeducciones().pipe(L(n=>{let i=n.data,r=this._matData;i&&(this.form.get("idDeduccionLegal").setValue(i[0].id),this.porcentajeSalud=i[0].porcentajeSalud,this.porcentajePension=i[0].porcentajePension,this.sumaPorcentaje=i[0].estado?this.porcentajePension+this.porcentajeSalud:0)})),this.profile={avatar:"",name:"Pedro"},this.event=event}getContratos(){this.tipoContratosService.getContratos().pipe(L(n=>{let i=n.data,r=this._matData;i&&!r.edit&&(this.form.get("idTipoContrato").setValue(i[0].id),this.deduccionLegal=i[0].deduccioneLegal)})).subscribe(n=>{n.data&&(this.tipoContratos=n.data)})}selectedDeduccion(n){let i=n.value,r=this.tipoContratos.find(a=>{if(a.id==i)return a});this.deduccionLegal=r.deduccioneLegal,this.deduccionLegal?this.resetConDeduccion():this.resetSinDeduccion()}ngOnInit(){this.createForm(),this.getContratos();let n=this._matData;if(n.edit){let i=n.data;this.getTrabajador(i.id),this.setCampoValue()}this._matData.edit||this.setCampoValue()}getTrabajador(n){this.empleadosServices.getEmpleado(n).subscribe(i=>{if(i){let a=i.data;this.deduccionLegal=this.buscarContrato(a.idTipoContrato);let r=a,{idDepartamento:s,fechaNacimiento:l,fechaInicioContrato:f,fechaFinContrato:g,porcentajeSalud:y,porcentajePension:h,capacidadEndeudamiento:N,salarioBase:b,otroIngreso:D}=r,k=Ne(r,["idDepartamento","fechaNacimiento","fechaInicioContrato","fechaFinContrato","porcentajeSalud","porcentajePension","capacidadEndeudamiento","salarioBase","otroIngreso"]),$=new Date(l),R=new Date(f),x=new Date(g);if(this.municipios$=this._locacionService.getMunicipio(s),this.deduccionLegal){let q=b+D-b*(y+h)/100,T=(b+D)*y/100,P=(b+D)*h/100,G=q*40/100;this.form.patchValue(te({fechaNacimiento:$,fechaInicioContrato:new Date(R.getFullYear(),R.getMonth(),R.getDate()),fechaFinContrato:new Date(x.getFullYear(),x.getMonth(),x.getDate()),idDepartamento:s,salarioBase:b,otroIngreso:D,salarioDevengado:q,salud:T,pension:P,capacidadEndeudamiento:G},k)),this.image=`data:image/png;base64,  ${a.foto}`}else{let q=b+D,T=q*40/100;this.form.patchValue(te({fechaNacimiento:$,fechaInicioContrato:new Date(R.getFullYear(),R.getMonth(),R.getDate()),fechaFinContrato:new Date(x.getFullYear(),x.getMonth(),x.getDate()),idDepartamento:s,salarioBase:b,otroIngreso:D,salarioDevengado:q,capacidadEndeudamiento:T,salud:0,pension:0},k)),this.image=`data:image/png;base64,  ${a.foto}`}}})}buscarContrato(n){let i=n;return this.tipoContratos.find(a=>{if(a.id==i)return a}).deduccioneLegal}setCampoValue(){this.form.get("salarioBase").valueChanges.pipe(Ze(this.destroyedRef)).subscribe(()=>this.calcularCampo()),this.form.get("otroIngreso").valueChanges.pipe(Ze(this.destroyedRef)).subscribe(()=>this.calcularCampo())}resetConDeduccion(){this.form.get("salarioBase").setValue(0),this.form.get("otroIngreso").setValue(0),this.form.get("salarioDevengado").setValue(0),this.form.get("salud").setValue(0),this.form.get("pension").setValue(0),this.form.get("capacidadEndeudamiento").setValue(0)}resetSinDeduccion(){this.form.get("salarioBase").setValue(0),this.form.get("otroIngreso").setValue(0),this.form.get("salarioDevengado").setValue(0)}calcularCampo(){let n=this.form.get("salarioBase")?.value||0,i=this.form.get("otroIngreso")?.value||0;if(this.deduccionLegal){let r=n+i-n*this.sumaPorcentaje/100,a=(n+i)*this.porcentajeSalud/100,s=(n+i)*this.porcentajePension/100,l=r*40/100;this.form.patchValue({salarioDevengado:r,salud:a,pension:s,capacidadEndeudamiento:l})}else{let r=n+i,a=r*40/100;this.form.patchValue({salarioDevengado:r,capacidadEndeudamiento:a,salud:0,pension:0})}}onFileSelected(n){let i=n.target;if(i.files&&i.files.length>0){let r=i.files[0],a=new FileReader;a.onload=()=>{let s=a.result;this.image=s;let l=s.split(",")[1];this.form.get("foto").setValue(l)},a.readAsDataURL(r)}}onSelected(n){let i=n.value;this.getMunicipios(i)}getMunicipios(n){this.municipios$=this._locacionService.getMunicipio(n).pipe(L(i=>{let r=i.data,a=this._matData;r&&!a.edit&&this.form.get("idMunicipio").setValue(r[0].id)}))}onSave(){if(this.form.valid)if(this._matData.edit){let i=this.form.getRawValue(),{idDepartamento:a,fechaNacimiento:s,fechaInicioContrato:l,fechaFinContrato:f,salarioDevengado:g,salud:y,pension:h}=i,N=Ne(i,["idDepartamento","fechaNacimiento","fechaInicioContrato","fechaFinContrato","salarioDevengado","salud","pension"]),b=this.datePipe.transform(s,"yyyy-MM-dd"),D=this.datePipe.transform(l,"yyyy-MM-dd"),k=this.datePipe.transform(f,"yyyy-MM-dd"),$=te({fechaNacimiento:b,fechaInicioContrato:D,fechaFinContrato:k},N);this.fuseService.open(te({},Qe)).afterClosed().subscribe(x=>{x==="confirmed"?this.empleadosServices.putEmpleados($).subscribe(q=>{this.estadosDatosService.stateGrid.next(!0),this.swalService.ToastAler({icon:"success",title:"Registro actualizado con exito!",timer:4e3}),this.closeDialog()},q=>{this.swalService.ToastAler({icon:"error",title:"Ha ocurrido un error al actualizar el registro!",timer:4e3})}):this.closeDialog()})}else{let n=this.form.getRawValue(),{idDepartamento:a,fechaNacimiento:s,fechaInicioContrato:l,fechaFinContrato:f,salarioDevengado:g,salud:y,pension:h}=n,N=Ne(n,["idDepartamento","fechaNacimiento","fechaInicioContrato","fechaFinContrato","salarioDevengado","salud","pension"]),b=this.datePipe.transform(s,"yyyy-MM-dd"),D=this.datePipe.transform(l,"yyyy-MM-dd"),k=te({fechaNacimiento:b,fechaInicioContrato:D,fechaFinContrato:"0001-01-01"},N);console.log(k),this.fuseService.open(te({},Qe)).afterClosed().subscribe(R=>{R==="confirmed"?this.empleadosServices.postEmpleados(k).subscribe(x=>{console.log(x),this.estadosDatosService.stateGrid.next(!0),this.swalService.ToastAler({icon:"success",title:"Registro Creado o Actualizado con Exito.",timer:4e3}),this.closeDialog()},x=>{this.errorHandlerService.errorHandler(x)}):this.closeDialog()})}}createForm(){this.form=this.fb.group({id:[null],primerNombre:[""],segundoNombre:[""],primerApellido:[""],segundoApellido:[""],idTipoDoc:[""],numDoc:[""],idDepartamento:[""],idMunicipio:[""],telefono:[""],telefono2:[""],direccion:[""],idGenero:[""],correo:[""],cargo:[""],fechaNacimiento:[""],fechaInicioContrato:[""],fechaFinContrato:["null"],numCuentaBancaria:[""],capacidadEndeudamiento:[{value:0,disabled:!0}],idNivelRiesgo:[""],idBanco:[""],idTipoCuenta:[""],foto:[""],firma:[""],idSubEmpresa:[""],idTipoContrato:[""],salarioBase:[0],otroIngreso:[0],idDeduccionLegal:[""],salarioDevengado:[{value:0,disabled:!0}],salud:[{value:0,disabled:!0}],pension:[{value:0,disabled:!0}],estado:[!0]})}closeDialog(){this.dialogRef.close()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["app-form-empleados"]],standalone:!0,features:[qt([{provide:Jt,useClass:yo},{provide:Gt,useValue:"en-GB"},We,fo(mi)]),pe],decls:191,vars:72,consts:[["noAvatar",""],["twoStepToggle",""],["picker",""],["data",""],["inicio",""],["fin",""],[1,"w-full","sm:bg-card","sm:rounded-2xl","sm:mx-0","mx-auto"],[1,""],[1,"mt-8","text-3xl","font-semibold","leading-tight","tracking-tight","text-center"],[1,"mt-8","space-y-8",3,"formGroup"],[1,"group","relative","mx-auto","mt-8","flex","h-40","w-40","flex-0","rounded-full","mb-8"],[1,"absolute","inset-0","hidden","cursor-pointer","flex-col","items-center","justify-center","rounded-full","bg-gray-800","bg-opacity-80","backdrop-blur","backdrop-filter","group-hover:flex"],[1,"text-white",3,"svgIcon"],[1,"mx-6","mt-2","text-center","font-medium","text-white"],["type","file",1,"absolute","inset-0","opacity-0","cursor-pointer",3,"change"],[4,"ngIf","ngIfElse"],[1,"font-bold","mb-4","text-2xl"],[1,"flex","mb-4"],[1,"fcursor-pointer",3,"click"],[1,"font-medium","leading-6"],[1,"ml-4",3,"color","formControlName"],[1,"flex","flex-col","sm:flex-row","gap-2.5"],["floatLabel","always",1,"w-full"],["matInput","","placeholder","Primer nombre",3,"formControlName"],["matInput","","placeholder","Segundo nombre",3,"formControlName"],["matInput","","placeholder","Primer apellido",3,"formControlName"],["matInput","","placeholder","Segundo apellido",3,"formControlName"],["placeholder","Tipo de documento",3,"formControlName"],[4,"ngIf"],["matInput","","placeholder","N\xFAmero de identificaci\xF3n",3,"formControlName"],["placeholder","G\xE9nero",3,"formControlName"],["matInput","","placeholder","dd/mm/yyyy",3,"matDatepicker","formControlName"],["matIconSuffix","",3,"for"],["placeholder","Departamento",3,"selectionChange","formControlName"],["placeholder","Ciudad",3,"formControlName"],["matInput","","placeholder","Direcci\xF3n",3,"formControlName"],["matInput","","placeholder","Celular",3,"formControlName"],["matInput","","placeholder","Tel\xE9fono",3,"formControlName"],["matInput","","placeholder","Correo electronico (usuario)",3,"formControlName"],["placeholder","Empresa",3,"formControlName"],["matInput","","placeholder","Cargo",3,"formControlName"],["placeholder","Tipo de contrato",3,"selectionChange","formControlName"],[3,"value",4,"ngFor","ngForOf"],["matInput","","mask","separator.0","thousandSeparator",".","placeholder","Salario base",3,"formControlName"],["matInput","","mask","separator.0","thousandSeparator",".","placeholder","Otros ingresos",3,"formControlName"],["matInput","","mask","separator.0","thousandSeparator",".","placeholder","Salario devengdado",3,"readonly","formControlName"],["placeholder","Nivel de riesgo",3,"formControlName"],["matInput","","mask","separator.0","thousandSeparator",".","placeholder","Capacidad de endeudamiento",3,"formControlName","readonly"],["placeholder","Tipo de cuenta",3,"formControlName"],["placeholder","Bancos",3,"formControlName"],["matInput","","placeholder","N\xFAmero de cuenta",3,"formControlName"],[1,"flex","flex-wrap","justify-end","gap-2.5"],["mat-flat-button","",1,"sm:w-auto","w-full","sm:mt-6","bg-credigray-100","rounded-lg","transition","duration-200","text-white","font-semibold",3,"click","color"],["mat-flat-button","",1,"sm:w-auto","w-full","sm:mt-6","bg-crediblue-50","rounded-lg","transition","duration-200","text-white","font-semibold",3,"click","color"],[1,"h-full","w-full","rounded-full","object-cover",3,"src","alt"],[1,"flex","h-full","w-full","items-center","justify-center","rounded-full","bg-gray-200","text-8xl","font-semibold","uppercase","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[3,"value"],["placeholder","Deducciones legales",3,"formControlName","disabled"],["matInput","","mask","separator.0","thousandSeparator",".","placeholder","Salud",3,"readonly","formControlName"],["matInput","","mask","separator.0","thousandSeparator",".","placeholder","Pensi\xF3n",3,"readonly","formControlName"]],template:function(i,r){if(i&1){let a=Lt();u(0,"div",6)(1,"div",7)(2,"div",8),p(3),c(),u(4,"form",9)(5,"div",10)(6,"div",11),C(7,"mat-icon",12),u(8,"div",13),p(9," Cambiar foto "),c(),u(10,"input",14),V("change",function(l){return oe(a),ne(r.onFileSelected(l))}),c()(),_(11,On,2,2,"ng-container",15)(12,zn,2,1,"ng-template",null,0,Vt),c(),u(14,"div")(15,"p",16),p(16,"Informaci\xF3n general"),c(),u(17,"div",17)(18,"div",18),V("click",function(){oe(a);let l=me(22);return ne(l.toggle())}),u(19,"div",19),p(20),c()(),C(21,"mat-slide-toggle",20,1),c(),u(23,"div",21)(24,"mat-form-field",22)(25,"mat-label"),p(26,"Primer nombre"),c(),C(27,"input",23),c(),u(28,"mat-form-field",22)(29,"mat-label"),p(30,"Segundo nombre"),c(),C(31,"input",24),c()(),u(32,"div",21)(33,"mat-form-field",22)(34,"mat-label"),p(35,"Primer apellido"),c(),C(36,"input",25),c(),u(37,"mat-form-field",22)(38,"mat-label"),p(39,"Segundo apellido"),c(),C(40,"input",26),c()(),u(41,"div",21)(42,"mat-form-field",22)(43,"mat-label"),p(44,"Tipo de documento"),c(),u(45,"mat-select",27),_(46,Hn,2,1,"ng-container",28),U(47,"async"),c()(),u(48,"mat-form-field",22)(49,"mat-label"),p(50,"N\xFAmero de identificaci\xF3n"),c(),C(51,"input",29),c()(),u(52,"div",21)(53,"mat-form-field",22)(54,"mat-label"),p(55,"G\xE9nero"),c(),u(56,"mat-select",30),_(57,Jn,2,1,"ng-container",28),U(58,"async"),c()(),u(59,"mat-form-field",22)(60,"mat-label"),p(61,"Fecha de nacimiento"),c(),C(62,"input",31)(63,"mat-datepicker-toggle",32)(64,"mat-datepicker",null,2),c()()(),u(66,"div")(67,"p",16),p(68,"Informaci\xF3n demogr\xE1fica"),c(),u(69,"div",21)(70,"mat-form-field",22)(71,"mat-label"),p(72,"Departamento"),c(),u(73,"mat-select",33,3),V("selectionChange",function(l){return oe(a),ne(r.onSelected(l))}),_(75,Yn,2,1,"ng-container",28),U(76,"async"),c()(),u(77,"mat-form-field",22)(78,"mat-label"),p(79,"Ciudad"),c(),u(80,"mat-select",34),_(81,Qn,2,1,"ng-container",28),U(82,"async"),c()()(),u(83,"div",21)(84,"mat-form-field",22)(85,"mat-label"),p(86,"Direcci\xF3n"),c(),C(87,"input",35),c(),u(88,"mat-form-field",22)(89,"mat-label"),p(90,"Celular"),c(),C(91,"input",36),c()(),u(92,"div",21)(93,"mat-form-field",22)(94,"mat-label"),p(95,"Tel\xE9fono"),c(),C(96,"input",37),c(),u(97,"mat-form-field",22)(98,"mat-label"),p(99,"Correo electronico (usuario)"),c(),C(100,"input",38),c()(),u(101,"div")(102,"p",16),p(103,"Informaci\xF3n contractual"),c(),u(104,"div",21)(105,"mat-form-field",22)(106,"mat-label"),p(107,"Empresa"),c(),u(108,"mat-select",39),_(109,Xn,2,1,"ng-container",28),U(110,"async"),c()(),u(111,"mat-form-field",22)(112,"mat-label"),p(113,"Cargo"),c(),C(114,"input",40),c()(),u(115,"div",21)(116,"mat-form-field",22)(117,"mat-label"),p(118,"Inicio de contrato"),c(),C(119,"input",31)(120,"mat-datepicker-toggle",32)(121,"mat-datepicker",null,4),c(),u(123,"mat-form-field",22)(124,"mat-label"),p(125,"Fin de contrato"),c(),C(126,"input",31)(127,"mat-datepicker-toggle",32)(128,"mat-datepicker",null,5),c()(),u(130,"div",21)(131,"mat-form-field",22)(132,"mat-label"),p(133,"Tipo de contrato"),c(),u(134,"mat-select",41),V("selectionChange",function(l){return oe(a),ne(r.selectedDeduccion(l))}),_(135,ei,2,2,"mat-option",42),c()()(),_(136,ni,8,5,"ng-container",28),u(137,"div",21)(138,"mat-form-field",22)(139,"mat-label"),p(140,"Salario base"),c(),C(141,"input",43),c(),u(142,"mat-form-field",22)(143,"mat-label"),p(144,"Otros ingresos"),c(),C(145,"input",44),c()(),_(146,ii,10,4,"ng-container",28),u(147,"div",21)(148,"mat-form-field",22)(149,"mat-label"),p(150,"Salario devengado"),c(),C(151,"input",45),c()(),u(152,"div",21)(153,"mat-form-field",22)(154,"mat-label"),p(155,"Nivel de riesgo"),c(),u(156,"mat-select",46),_(157,ai,2,1,"ng-container",28),U(158,"async"),c()(),u(159,"mat-form-field",22)(160,"mat-label"),p(161,"Capacidad de endeudamiento"),c(),C(162,"input",47),c()()(),u(163,"div")(164,"p",16),p(165,"Informaci\xF3n bancaria"),c(),u(166,"div",21)(167,"mat-form-field",22)(168,"mat-label"),p(169,"Tipo de cuenta"),c(),u(170,"mat-select",48),_(171,li,2,1,"ng-container",28),U(172,"async"),c()()(),u(173,"div",21)(174,"mat-form-field",22)(175,"mat-label"),p(176,"Bancos"),c(),u(177,"mat-select",49),_(178,di,2,1,"ng-container",28),U(179,"async"),c()(),u(180,"mat-form-field",22)(181,"mat-label"),p(182,"N\xFAmero de cuenta bancaria"),c(),C(183,"input",50),c()()()(),u(184,"div",51)(185,"button",52),V("click",function(){return oe(a),ne(r.closeDialog())}),u(186,"span"),p(187," Cancelar "),c()(),u(188,"button",53),V("click",function(){return oe(a),ne(r.onSave())}),u(189,"span"),p(190," Guardar "),c()()()()()()}if(i&2){let a=me(13),s=me(65),l=me(122),f=me(129);d(3),ue(" ",r._matData.edit?"Actualizar trabajador":"Agregar trabajador"," "),d(),m("formGroup",r.form),d(3),m("svgIcon","heroicons_outline:camera"),d(4),m("ngIf",r.form.get("foto").value)("ngIfElse",a),d(9),ue(" Estado ",r.form.get("estado").value?"Activo":"Inactivo"," "),d(),m("color","primary")("formControlName","estado"),d(6),m("formControlName","primerNombre"),d(4),m("formControlName","segundoNombre"),d(5),m("formControlName","primerApellido"),d(4),m("formControlName","segundoApellido"),d(5),m("formControlName","idTipoDoc"),d(),m("ngIf",O(47,56,r.tiposDocumentos$)),d(5),m("formControlName","numDoc"),d(5),m("formControlName","idGenero"),d(),m("ngIf",O(58,58,r.generos$)),d(5),m("matDatepicker",s)("formControlName","fechaNacimiento"),d(),m("for",s),d(10),m("formControlName","idDepartamento"),d(2),m("ngIf",O(76,60,r.departamentos$)),d(5),m("formControlName","idMunicipio"),d(),m("ngIf",O(82,62,r.municipios$)),d(6),m("formControlName","direccion"),d(4),m("formControlName","telefono"),d(5),m("formControlName","telefono2"),d(4),m("formControlName","correo"),d(8),m("formControlName","idSubEmpresa"),d(),m("ngIf",O(110,64,r.empresasClientes$)),d(5),m("formControlName","cargo"),d(5),m("matDatepicker",l)("formControlName","fechaInicioContrato"),d(),m("for",l),d(6),m("matDatepicker",f)("formControlName","fechaFinContrato"),d(),m("for",f),d(7),m("formControlName","idTipoContrato"),d(),m("ngForOf",r.tipoContratos),d(),m("ngIf",r.deduccionLegal),d(5),m("formControlName","salarioBase"),d(4),m("formControlName","otroIngreso"),d(),m("ngIf",r.deduccionLegal),d(5),m("readonly",!0)("formControlName","salarioDevengado"),d(5),m("formControlName","idNivelRiesgo"),d(),m("ngIf",O(158,66,r.riesgos$)),d(5),m("formControlName","capacidadEndeudamiento")("readonly",!0),d(8),m("formControlName","idTipoCuenta"),d(),m("ngIf",O(172,68,r.tipoCuentas$)),d(6),m("formControlName","idBanco"),d(),m("ngIf",O(179,70,r.bancos$)),d(5),m("formControlName","numCuentaBancaria"),d(2),m("color","primary"),d(3),m("color","primary")}},dependencies:[fe,Fe,Be,Qt,so,no,eo,to,oo,io,ro,$t,Kt,co,Ut,Ot,ho,Co,Eo,Zt,Me,go,lo],styles:[".custom-dialog-container{width:100%}@media (min-width: 1280px){  .custom-dialog-container{width:50%}}"]});let o=e;return o})();var Ln=Un(Bn(),1);function ar(o,e){if(o&1&&C(0,"canvas",1),o&2){let t=de();Rt(t.styleClass),m("qrCode",t.value)("qrCodeErrorCorrectionLevel",t.errorCorrectionLevel)("qrCodeCenterImageSrc",t.centerImageSrc)("qrCodeCenterImageWidth",t.centerImageSize)("qrCodeCenterImageHeight",t.centerImageSize)("qrCodeMargin",t.margin)("width",t.size)("height",t.size)("ngStyle",t.style)("darkColor",t.darkColor)("lightColor",t.lightColor)}}var Rn=/^#(?:[0-9a-fA-F]{3,4}){1,2}$/,sr=(()=>{let e=class e{constructor(n){this.viewContainerRef=n,this.errorCorrectionLevel=e.DEFAULT_ERROR_CORRECTION_LEVEL,this.darkColor="#000000FF",this.lightColor="#FFFFFFFF",this.margin=16}ngOnChanges(){return Dt(this,null,function*(){if(!this.value)return;this.version&&this.version>40?(console.warn("[qrCode] max version is 40, clamping"),this.version=40):this.version&&this.version<1?(console.warn("[qrCode] min version is 1, clamping"),this.version=1):this.version!==void 0&&isNaN(this.version)&&(console.warn("[qrCode] version should be set to a number, defaulting to auto"),this.version=void 0);let n=this.viewContainerRef.element.nativeElement;if(!n)return;let i=n.getContext("2d");i&&i.clearRect(0,0,i.canvas.width,i.canvas.height);let r=this.errorCorrectionLevel??e.DEFAULT_ERROR_CORRECTION_LEVEL,a=Rn.test(this.darkColor)?this.darkColor:void 0,s=Rn.test(this.lightColor)?this.lightColor:void 0;jt()&&(!a&&this.darkColor&&console.error("[ng-qrcode] darkColor set to invalid value, must be RGBA hex color string, eg: #3050A1FF"),!s&&this.lightColor&&console.error("[ng-qrcode] lightColor set to invalid value, must be RGBA hex color string, eg: #3050A130")),yield Ln.default.toCanvas(n,this.value,{version:this.version,errorCorrectionLevel:r,width:this.width,margin:this.margin,color:{dark:a,light:s}});let l=this.centerImageSrc,f=Pn(this.centerImageWidth,e.DEFAULT_CENTER_IMAGE_SIZE),g=Pn(this.centerImageHeight,e.DEFAULT_CENTER_IMAGE_SIZE);if(l&&i){this.centerImage||(this.centerImage=new Image(f,g));let y=this.centerImage;l!==this.centerImage.src&&(y.src=l),f!==this.centerImage.width&&(y.width=f),g!==this.centerImage.height&&(y.height=g);let h=()=>{i.drawImage(y,n.width/2-f/2,n.height/2-g/2,f,g)};y.onload=h,y.complete&&h()}})}};e.DEFAULT_ERROR_CORRECTION_LEVEL="M",e.DEFAULT_CENTER_IMAGE_SIZE=40,e.\u0275fac=function(i){return new(i||e)(ce(Bt))},e.\u0275dir=Tt({type:e,selectors:[["canvas","qrCode",""]],inputs:{value:[0,"qrCode","value"],version:[0,"qrCodeVersion","version"],errorCorrectionLevel:[0,"qrCodeErrorCorrectionLevel","errorCorrectionLevel"],width:"width",height:"height",darkColor:"darkColor",lightColor:"lightColor",centerImageSrc:[0,"qrCodeCenterImageSrc","centerImageSrc"],centerImageWidth:[0,"qrCodeCenterImageWidth","centerImageWidth"],centerImageHeight:[0,"qrCodeCenterImageHeight","centerImageHeight"],margin:[0,"qrCodeMargin","margin"]},features:[At]});let o=e;return o})();function Pn(o,e){return o===void 0||o===""?e:typeof o=="string"?parseInt(o,10):o}var kn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["qr-code"]],inputs:{value:"value",size:"size",style:"style",styleClass:"styleClass",darkColor:"darkColor",lightColor:"lightColor",errorCorrectionLevel:"errorCorrectionLevel",centerImageSrc:"centerImageSrc",centerImageSize:"centerImageSize",margin:"margin"},decls:1,vars:1,consts:[[3,"qrCode","qrCodeErrorCorrectionLevel","qrCodeCenterImageSrc","qrCodeCenterImageWidth","qrCodeCenterImageHeight","qrCodeMargin","width","height","class","ngStyle","darkColor","lightColor"],[3,"qrCode","qrCodeErrorCorrectionLevel","qrCodeCenterImageSrc","qrCodeCenterImageWidth","qrCodeCenterImageHeight","qrCodeMargin","width","height","ngStyle","darkColor","lightColor"]],template:function(i,r){i&1&&_(0,ar,1,13,"canvas",0),i&2&&Pt(r.value?0:-1)},dependencies:[zt,sr],encapsulation:2});let o=e;return o})(),qn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Nt({type:e}),e.\u0275inj=xt({imports:[Ht]});let o=e;return o})();var Vn=(()=>{let e=class e{constructor(){this.dialogRef=w(Te),this._matData=w(Ae),this.qrDatas=null,this.qrData=null,this.employee={id:1,name:"Juan P\xE9rez",email:"juan.perez@example.com",phone:"+1234567890"}}ngOnInit(){let n=this._matData.data;this.qrDatas=n,this.qrData=`https://admin.crediplus.com.co/pages/gestion-creditos/detalle-consumo/${n.idTipoDoc}/${n.numDoc}`,console.log(this.qrData)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["app-form-qr"]],standalone:!0,features:[pe],decls:9,vars:4,consts:[[1,"w-full","sm:bg-card","sm:rounded-2xl","sm:mx-0","mx-auto"],[1,"mt-8","text-3xl","font-semibold","leading-tight","tracking-tight","text-center"],[1,"flex","flex-col","justify-center","sm:flex-row"],["size","200","errorCorrectionLevel","M",3,"value"],[1,"flex","flex-wrap","justify-center"],["mat-flat-button","","mat-dialog-close","",1,"sm:w-auto","w-full","sm:mt-6","bg-crediorange-100","rounded-lg","transition","duration-200","text-white","font-semibold",3,"color","mat-dialog-close"]],template:function(i,r){i&1&&(u(0,"div",0)(1,"div",1),p(2),c(),u(3,"div",2),C(4,"qr-code",3),c(),u(5,"div",4)(6,"button",5)(7,"span"),p(8," Cancelar "),c()()()()),i&2&&(d(2),ue(" ",r.qrDatas.nombreCompleto," "),d(2),m("value",r.qrData),d(2),m("color","primary")("mat-dialog-close",!0))},dependencies:[qn,kn,fe,Wt],styles:[".custom-dialog-container{width:100%}@media (min-width: 600px){  .custom-dialog-container{width:33.333333%}}"]});let o=e;return o})();var jn=(()=>{let e=class e{constructor(n,i,r){this._matDialog=n,this.estadoDatosService=i,this.empleadoService=r,this.searchTerm="",this.myAngularxQrCode=null,this.data=[],this.columns=["Estado","Identificaci\xF3n","Nombre completo","Tel\xE9fono","Empresa","Cargo"],this.columnPropertyMap={Estado:"estado",Identificaci\u00F3n:"numDoc","Nombre completo":"nombreCompleto",Tel\u00E9fono:"telefono",Empresa:"nombreSubEmpresa",Cargo:"cargo"},this.buttons=[{label:"Edit",icon:"edit",action:a=>{console.log("Editing",a),this.selectedData=a,this.onEdit()}},{label:"View",icon:"qr_code",action:a=>{console.log("View",a),this.selectedData=a,this.onGenerate()}}]}onNew(){this._matDialog.open(ot,{autoFocus:!1,data:{edit:!1},maxHeight:"90vh",disableClose:!0,panelClass:"custom-dialog-container"})}onEdit(){this._matDialog.open(ot,{autoFocus:!1,data:{edit:!0,data:this.selectedData},maxHeight:"90vh",disableClose:!0,panelClass:"custom-dialog-container"})}onGenerate(){this._matDialog.open(Vn,{autoFocus:!1,data:{edit:!0,data:this.selectedData},maxHeight:"70vh",disableClose:!0,panelClass:"custom-dialog-container"})}getEmpleados(){this.subcription$=this.empleadoService.getEmpleados().pipe(Ye(n=>(n.data.forEach(i=>{i.estado?i.estado=Xe.ACTIVO:i.estado=Xe.INACTIVO}),n)),Ye(n=>(n.data.forEach(i=>{i&&(i.nombreCompleto=i.primerNombre.concat(" ",i.segundoNombre?i.segundoNombre+" ":"",i.primerApellido," ",i.segundoApellido))}),n))).subscribe(n=>{this.data=n.data})}listenGrid(){this.estadoDatosService.stateGrid.asObservable().subscribe(i=>{i&&this.getEmpleados()})}onSearch(n){let i=n.target;this.searchTerm=i.value.trim().toLowerCase()}ngOnDestroy(){this.subcription$.unsubscribe()}ngOnInit(){this.getEmpleados(),this.listenGrid()}};e.\u0275fac=function(i){return new(i||e)(ce(Yt),ce(Re),ce(Pe))},e.\u0275cmp=K({type:e,selectors:[["app-grid-empleados"]],standalone:!0,features:[pe],decls:15,vars:12,consts:[[1,"bg-card","flex","min-w-0","flex-auto","flex-col","dark:bg-transparent","sm:absolute","sm:inset-0","sm:overflow-hidden"],[1,"relative","flex","flex-0","flex-col","border-b","px-6","py-8","sm:flex-row","sm:items-center","sm:justify-between","md:px-8"],[1,"text-3xl","font-semibold","tracking-tight"],[1,"mt-6","flex","w-full","shrink-0","flex-col","items-center","sm:ml-4","sm:mt-0","sm:flex-row","sm:space-x-2","sm:w-auto"],[1,"fuse-mat-dense","rounded-lg","w-full","sm:w-auto","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"input","autocomplete","placeholder"],["mat-flat-button","",1,"mt-2","w-full","bg-crediblue-50","rounded-lg","transition","duration-200","text-white","font-semibold","sm:ml-4","sm:mt-0","sm:w-auto",3,"click","color"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-auto","flex-col","overflow-hidden","sm:mb-18","sm:overflow-y-auto"],[3,"columns","displayedColumns","columnPropertyMap","data","buttons","searchTerm"]],template:function(i,r){i&1&&(u(0,"div",0)(1,"div",1)(2,"div",2),p(3,"Trabajadores"),c(),u(4,"div",3)(5,"mat-form-field",4),C(6,"mat-icon",5),u(7,"input",6),V("input",function(s){return r.onSearch(s)}),c()(),u(8,"button",7),V("click",function(){return r.onNew()}),C(9,"mat-icon",8),u(10,"span",9),p(11,"Agregar"),c()()()(),u(12,"div",10)(13,"div",11),C(14,"app-custom-table",12),c()()()),i&2&&(d(5),m("subscriptSizing","dynamic"),d(),m("svgIcon","heroicons_solid:magnifying-glass"),d(),m("autocomplete","off")("placeholder","Buscar"),d(),m("color","primary"),d(),m("svgIcon","heroicons_outline:plus"),d(5),m("columns",r.columns)("displayedColumns",r.columns)("columnPropertyMap",r.columnPropertyMap)("data",r.data)("buttons",r.buttons)("searchTerm",r.searchTerm))},dependencies:[mo,fe,Fe,Me,Be]});let o=e;return o})();var os=[{path:"",component:jn}];export{os as default};
