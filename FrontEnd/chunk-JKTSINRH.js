import{a as F,b as H}from"./chunk-DE4TGIRT.js";import{a as Qe}from"./chunk-2U76ZNDX.js";import{a as He}from"./chunk-LLMKJCSC.js";import{a as Ze,b as Je,c as Ke}from"./chunk-DVCUHTPM.js";import{a as We}from"./chunk-CFJSYZ3M.js";import{a as qe,b as ze,c as Ue}from"./chunk-JDA76RF6.js";import{a as W}from"./chunk-N3QIRYNR.js";import{a as U,b as fe}from"./chunk-XVIRI3LF.js";import{a as z}from"./chunk-K7UKSVEC.js";import{a as ue}from"./chunk-L5Y3WK7D.js";import{a as $e}from"./chunk-BW2UNIQM.js";import{a as pe}from"./chunk-QETDVRLC.js";import{g as ae,j as Le}from"./chunk-YDAJC2H3.js";import{a as ke,b as Ne,c as Ve,d as Ge}from"./chunk-C7ANG7GI.js";import"./chunk-566EJEQN.js";import{C as se,E as Re,F as de,J as q,b as ee,c as Oe,e as Be,i as L,l as ie,n as j,p as oe,q as re,u as ne,x as le,y as me}from"./chunk-NFNLINIV.js";import{b as Me,d as O}from"./chunk-V24ZDQ6I.js";import{h as Y}from"./chunk-32OSWJVT.js";import{a as ce}from"./chunk-JLSTUWCW.js";import"./chunk-HR6HUVTD.js";import{Q as B,R,ba as Ae,ga as $,la as te}from"./chunk-IP22JCCO.js";import"./chunk-QS2H5WYQ.js";import"./chunk-VFBDOJ4Z.js";import"./chunk-J6S3X3IJ.js";import{Ac as X,Cb as y,Dc as Ie,Eb as g,Ec as C,Gc as G,Hc as x,Lb as K,Mb as n,Nb as v,Ob as N,Pb as Te,Qa as l,Sb as Ee,Tb as we,Ub as Pe,Vb as w,Wb as P,Zb as je,_ as Z,cc as h,dc as A,ec as V,fc as ve,gb as f,ha as p,ib as d,ma as E,pb as D,q as Se,tb as t,ub as a,vb as c,wa as S,wb as I,xa as T,xb as M,yc as Fe,zb as J,zc as De}from"./chunk-VNCXNJPE.js";import{a as k,b as Ce,d as Q}from"./chunk-NEB6MB4Y.js";var it={validation:!1},Xe=(()=>{let m=class m{constructor(){this.dialogRef=p(ke),this._matData=p(Ne),this.fb=p(se),this.pagoTrabajadoresService=p(F),this.estadosDatosService=p(z),this.swalService=p(pe)}ngOnInit(){this.createForm();let i=this._matData.data;console.log(i),this.form.patchValue({valorRecibido:parseFloat(i.total.replace(/[\$,]/g,""))})}onCambioEstado(){if(this.form.valid){let r=this._matData.data,i=this.form.getRawValue(),{valorRecibido:u}=i,b=Q(i,["valorRecibido"]),_=k({id:r.id,idEstadoCobroPago:H.PAGADOS,valorRecibido:parseFloat(u)},b);this.pagoTrabajadoresService.putPagoTrabajadorIndividual(_).subscribe(ge=>{this.estadosDatosService.stateGrid.next(!0),this.swalService.ToastAler({icon:"success",title:"Registro Creado o Actualizado con Exito.",timer:4e3}),this.closeDialog()},ge=>{this.swalService.ToastAler({icon:"error",title:"Ha ocurrido un error al crear el registro!",timer:4e3})})}}closeDialog(){this.dialogRef.close()}createForm(){this.form=this.fb.group({comprobante:["",j.required],valorRecibido:[""],observacion:[""]})}};m.\u0275fac=function(r){return new(r||m)},m.\u0275cmp=E({type:m,selectors:[["app-dialog-estado"]],standalone:!0,features:[w([{provide:R,useClass:W},{provide:B,useValue:"en-GB"},C,x,U(it)]),P],decls:30,vars:8,consts:[[1,"relative","flex","h-full","w-full","flex-col"],[1,"flex","flex-auto","flex-col","items-center","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],[1,"flex","h-10","w-10","flex-0","items-center","justify-center","rounded-full","sm:mr-4","bg-blue-100","text-blue-600","dark:bg-blue-600","dark:text-blue-50"],[3,"svgIcon"],[1,"flex","flex-col","items-center","space-y-1","text-center","sm:mt-0","sm:items-start","sm:pr-8","sm:text-left"],[1,"text-xl","font-medium","leading-6"],[1,"text-secondary"],[1,"mt-8",3,"formGroup"],[1,"mt-4","flex","flex-col","items-center","space-y-1","text-center","sm:mt-0","sm:items-start","sm:text-left"],["floatLabel","always",1,"w-full","min-w-90"],["matInput","","placeholder","Comprobante",3,"formControlName"],["matInput","","placeholder","Valor recibido","mask","separator.2","thousandSeparator",",","decimalMarker",".",3,"formControlName"],["floatLabel","always",1,"w-full"],["matInput","","placeholder","Observaciones",3,"formControlName"],[1,"flex","items-center","justify-center","space-x-3","bg-gray-50","py-4","dark:bg-black","dark:bg-opacity-10","sm:justify-end"],["mat-stroked-button","",1,"sm:w-auto","w-full","bg-crediorange-100","rounded-lg","transition","duration-200","text-white","font-semibold",3,"matDialogClose"],["mat-flat-button","",1,"sm:w-auto","w-full","bg-crediblue-50","hover:bg-crediblue-100","text-white","font-semibold","py-2","px-4","rounded-lg","transition","duration-200",3,"click","color","matDialogClose"]],template:function(r,s){r&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),c(3,"mat-icon",3),a(),t(4,"div",4)(5,"div",5),n(6," Confirmacion "),a(),t(7,"div",6),n(8," \xBFEst\xE1 seguro de cambiar el estado?. "),a()()(),t(9,"form",7)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),n(13,"Comprobante"),a(),c(14,"input",10),a()(),t(15,"div",8)(16,"mat-form-field",9)(17,"mat-label"),n(18,"Valor recibido"),a(),c(19,"input",11),a()(),t(20,"div",8)(21,"mat-form-field",12)(22,"mat-label"),n(23,"Observaciones"),a(),c(24,"textarea",13),a()()(),t(25,"div",14)(26,"button",15),n(27," Cancelar "),a(),t(28,"button",16),y("click",function(){return s.onCambioEstado()}),n(29," Confirmar "),a()()()),r&2&&(l(3),d("svgIcon","heroicons_solid:question-mark-circle"),l(6),d("formGroup",s.form),l(5),d("formControlName","comprobante"),l(5),d("formControlName","valorRecibido"),l(5),d("formControlName","observacion"),l(2),d("matDialogClose","cancelled"),l(2),d("color","primary")("matDialogClose","confirmed"))},dependencies:[$,te,Ge,L,q,ee,de,ne,ie,oe,re,le,me,Re,fe]});let e=m;return e})();function ot(e,m){if(e&1&&(I(0),c(1,"app-custom-table",19),M()),e&2){let o=g(2);l(),d("columns",o.columns)("displayedColumns",o.columns)("columnPropertyMap",o.columnPropertyMap)("data",o.data)("buttons",o.buttons)("searchTerm",o.searchTerm)}}function rt(e,m){e&1&&(t(0,"div",20)(1,"div",21)(2,"fuse-alert",22)(3,"span",23),n(4,"Informaci\xF3n"),a(),n(5," No hay pagos pendientes hasta el momento. "),a()()()),e&2&&(l(2),d("type","info")("appearance","outline"))}function nt(e,m){if(e&1&&f(0,ot,2,6,"ng-container",18)(1,rt,6,2,"ng-template",null,1,ve),e&2){let o=K(2),i=g();d("ngIf",i.data.length)("ngIfElse",o)}}function lt(e,m){if(e&1&&(I(0),c(1,"app-custom-table",19),M()),e&2){let o=g(2);l(),d("columns",o.columns)("displayedColumns",o.columns)("columnPropertyMap",o.columnPropertyMap)("data",o.data)("buttons",o.buttonsPagados)("searchTerm",o.searchTerm)}}function mt(e,m){e&1&&(t(0,"div",20)(1,"div",21)(2,"fuse-alert",22)(3,"span",23),n(4,"Informaci\xF3n"),a(),n(5," No hay pagos hasta el momento. "),a()()()),e&2&&(l(2),d("type","info")("appearance","outline"))}function st(e,m){if(e&1&&f(0,lt,2,6,"ng-container",18)(1,mt,6,2,"ng-template",null,1,ve),e&2){let o=K(2),i=g();d("ngIf",i.data.length)("ngIfElse",o)}}var Ye=(()=>{let m=class m{constructor(){this.datePipe=p(C),this.searchTerm="",this.currencyPipe=p(x),this.pagoTrabajadorService=p(F),this._matDialog=p(Ve),this.estadoDatosService=p(z),this.router=p(O),this.selectedTab=H.PENDIENTES,this.data=[],this.columns=["N\xFAmero de pago","Identificaci\xF3n","Nombres Apellidos","Empresa","Total","Estado"],this.columnPropertyMap={"N\xFAmero de pago":"consecutivo",Identificaci\u00F3n:"numDocumento","Nombres Apellidos":"nombreTrabajador",Empresa:"nombreSubempresa",Total:"total",Estado:"nombreEstadoCobro"},this.buttons=[{label:"Eye",icon:"visibility",action:i=>{console.log("Editing",i),this.router.navigate(["/pages/gestion-cobros/trabajador/individual/",i.id])}},{label:"View",icon:"published_with_changes",action:i=>{console.log("View",i),this.selectedData=i,this.onCambioEstado()}}],this.buttonsPagados=[{label:"Eye",icon:"visibility",action:i=>{console.log("Editing",i),this.router.navigate(["/pages/gestion-cobros/trabajador/individual/",i.id])}}],this.tabChanged=i=>{this.tabIndex=i.index,this.selectedTab=i.index==0?H.PENDIENTES:H.PAGADOS,this.getPagoTrabajadores(this.selectedTab)}}onCambioEstado(){this._matDialog.open(Xe,{autoFocus:!1,data:{edit:!0,data:this.selectedData},width:"30%",disableClose:!0,panelClass:"custom-dialog-container"})}ngOnDestroy(){}ngOnInit(){this.getPagoTrabajadores(this.selectedTab),this.listenGrid()}onNew(){this.router.navigate(["/pages/gestion-cobros/trabajador/individual"])}getPagoTrabajadores(i){this.pagoTrabajadorService.getPagoTrabajadorIndividual(i).pipe(Z(r=>(r.data.forEach(s=>{s.fechaCreacion=this.datePipe.transform(s.fechaCreacion,"dd/MM/yyyy"),s.total=this.currencyPipe.transform(s.total,"USD","symbol","1.2-2")}),r))).subscribe(r=>{r.data&&(this.data=r.data)})}onSearch(i){let r=i.target;this.searchTerm=r.value.trim().toLowerCase()}listenGrid(){this.estadoDatosService.stateGrid.asObservable().subscribe(r=>{r&&this.getPagoTrabajadores(this.selectedTab)})}};m.\u0275fac=function(r){return new(r||m)},m.\u0275cmp=E({type:m,selectors:[["app-grid-pago-trabajador"]],standalone:!0,features:[w([C,x]),P],decls:20,vars:8,consts:[["tabGroup",""],["noData",""],[1,"bg-card","flex","min-w-0","flex-auto","flex-col","dark:bg-transparent","sm:absolute","sm:inset-0","sm:overflow-hidden"],[1,"relative","flex","flex-0","flex-col","border-b","px-6","py-8","sm:flex-row","sm:items-center","sm:justify-between","md:px-8"],[1,"text-3xl","font-semibold","tracking-tight"],[1,"mt-6","flex","w-full","shrink-0","flex-col","items-center","sm:ml-4","sm:mt-0","sm:flex-row","sm:space-x-2","sm:w-auto"],[1,"fuse-mat-dense","rounded-lg","w-full","sm:w-auto","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"input","autocomplete","placeholder"],["mat-flat-button","",1,"mt-2","w-full","bg-crediblue-50","rounded-lg","transition","duration-200","text-white","font-semibold","sm:ml-4","sm:mt-0","sm:w-auto",3,"click","color"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-auto","flex-col","overflow-hidden","sm:mb-18","sm:overflow-y-auto"],["mat-stretch-tabs","false",1,"sm:px-2",3,"selectedIndexChange","selectedTabChange","animationDuration","selectedIndex"],["label","Pendientes"],["matTabContent",""],["label","Pagados"],[4,"ngIf","ngIfElse"],[3,"columns","displayedColumns","columnPropertyMap","data","buttons","searchTerm"],[1,"inset-0","min-w-0","overflow-auto","print:overflow-visible"],[1,"inline-block","p-4","sm:p-2","print:p-0","w-full"],[3,"type","appearance"],["fuseAlertTitle",""]],template:function(r,s){if(r&1){let u=J();t(0,"div",2)(1,"div",3)(2,"div",4),n(3,"Registro de Cobro Individual"),a(),t(4,"div",5)(5,"mat-form-field",6),c(6,"mat-icon",7),t(7,"input",8),y("input",function(_){return S(u),T(s.onSearch(_))}),a()(),t(8,"button",9),y("click",function(){return S(u),T(s.onNew())}),c(9,"mat-icon",10),t(10,"span",11),n(11,"Registrar"),a()()()(),t(12,"div",12)(13,"div",13)(14,"mat-tab-group",14,0),Pe("selectedIndexChange",function(_){return S(u),we(s.tabIndex,_)||(s.tabIndex=_),T(_)}),y("selectedTabChange",function(_){return S(u),T(s.tabChanged(_))}),t(16,"mat-tab",15),f(17,nt,3,2,"ng-template",16),a(),t(18,"mat-tab",17),f(19,st,3,2,"ng-template",16),a()()()()()}r&2&&(l(5),d("subscriptSizing","dynamic"),l(),d("svgIcon","heroicons_solid:magnifying-glass"),l(),d("autocomplete","off")("placeholder","Buscar"),l(),d("color","primary"),l(),d("svgIcon","heroicons_outline:plus"),l(5),d("animationDuration","500"),Ee("selectedIndex",s.tabIndex))},dependencies:[ue,$,L,te,q,ce,Je,Ze,Ke,X]});let e=m;return e})();var dt=(e,m)=>({"bg-credigray-100":e,"bg-green-600":m});function pt(e,m){if(e&1&&(t(0,"mat-option",26),n(1),a()),e&2){let o=m.$implicit;d("value",o.id),l(),v(o.nombre)}}function ct(e,m){if(e&1&&(I(0),f(1,pt,2,2,"mat-option",25),M()),e&2){let o=m.ngIf;l(),d("ngForOf",o.data)}}function ut(e,m){if(e&1&&(t(0,"mat-option",26),n(1),a()),e&2){let o=m.$implicit;d("value",o.id),l(),v(o.razonSocial)}}function ft(e,m){if(e&1&&(I(0),f(1,ut,2,2,"mat-option",25),M()),e&2){let o=m.ngIf;l(),d("ngForOf",o.data)}}function gt(e,m){if(e&1&&(t(0,"mat-option",26),n(1),a()),e&2){let o=m.$implicit;d("value",o.id),l(),Te("",o.primerNombre," ",o.primerApellido,"")}}function bt(e,m){if(e&1&&(I(0),f(1,gt,2,3,"mat-option",25),M()),e&2){let o=m.ngIf;l(),d("ngForOf",o.data)}}function vt(e,m){e&1&&(t(0,"mat-error"),n(1,"El valor es requerido!"),a())}function ht(e,m){e&1&&(t(0,"mat-error"),n(1,"El valor ingresado no puede superar el total a pagar!"),a())}function xt(e,m){e&1&&(t(0,"mat-error"),n(1,"El valor ingresado no puede ser 0!"),a())}function _t(e,m){if(e&1){let o=J();t(0,"div",27)(1,"mat-form-field",28)(2,"mat-label"),n(3,"Valor a cancelar"),a(),t(4,"input",29),y("blur",function(){S(o);let r=g();return T(r.valorAbono.updateValueAndValidity())}),a(),f(5,vt,2,0,"mat-error",11)(6,ht,2,0,"mat-error",11)(7,xt,2,0,"mat-error",11),a(),t(8,"mat-form-field",28)(9,"mat-label"),n(10,"Observaciones"),a(),c(11,"textarea",30),a()()}if(e&2){let o=g();l(4),d("allowNegativeNumbers",!1)("separatorLimit","999999999")("formControlName","valorAbono"),l(),d("ngIf",(o.valorAbono.touched||o.valorAbono.dirty)&&o.valorAbono.hasError("required")),l(),d("ngIf",(o.valorAbono.touched||o.valorAbono.dirty)&&o.valorAbono.hasError("exceedsBalance")),l(),d("ngIf",(o.valorAbono.touched||o.valorAbono.dirty)&&o.valorAbono.hasError("valueZero")),l(4),d("formControlName","observacion")}}function yt(e,m){if(e&1&&(t(0,"div",21)(1,"div",31)(2,"p",32),n(3,"Movimientos"),a(),c(4,"app-custom-table",33),a()()),e&2){let o=g();l(4),d("columns",o.columns)("displayedColumns",o.columns)("columnPropertyMap",o.columnPropertyMap)("data",o.data)}}function Ct(e,m){if(e&1&&(t(0,"div",22)(1,"div",34)(2,"fuse-alert",35)(3,"span",36),n(4,"Informaci\xF3n"),a(),n(5),a()()()),e&2){let o=g();l(2),d("type","info")("appearance","outline"),l(3),N(" ",o.message," ")}}function St(e,m){if(e&1&&(t(0,"span",24),n(1,"Subtotal: "),t(2,"span",37),n(3),h(4,"currency"),a()()),e&2){let o=g();l(3),v(A(4,1,o.subtotal))}}function Tt(e,m){if(e&1&&(t(0,"span",24),n(1,"Comisiones: "),t(2,"span",37),n(3),h(4,"currency"),a()()),e&2){let o=g();l(3),v(A(4,1,o.totalComision))}}function Et(e,m){if(e&1&&(t(0,"span",24),n(1,"Total a pagar: "),t(2,"span",37),n(3),h(4,"currency"),a()()),e&2){let o=g();l(3),N(" ",A(4,1,o.totalPagar)," ")}}var wt={validation:!1},et=(()=>{let m=class m{constructor(){this.fb=p(se),this.empresaClienteService=p(We),this.pagoTrabajadorService=p(F),this.cobroTrabajadorService=p(Qe),this.datePipe=p(C),this.swalService=p(pe),this.estadosDatosService=p(z),this.fuseService=p(ae),this.currencyPipe=p(x),this.decimalPipe=p(G),this.router=p(O),this.empleadosService=p(He),this.empresa$=this.empresaClienteService.getEmpresasClientes().pipe(Z(i=>{let r=i.data;r&&(this.form.get("idSubEmpresa").setValue(r[0].id),this.getEmpleadosSubEmpresas(r[0].id))})),this.tipoPago$=this.pagoTrabajadorService.tipoPagoTrabajadores().pipe(Z(i=>{let r=i.data;r&&(this.selectOptionValue=r)})),this.data=[],this.columns=["Empresa","N factura / Comprobante","Valor pendiente"],this.columnPropertyMap={Empresa:"nombreSubEmpresa","N factura / Comprobante":"numeroFactura","Valor pendiente":"valorPendiente"}}createForm(){this.form=this.fb.group({fechaFinal:["",j.required],idSubEmpresa:["",j.required],idTipoPagoTrabajador:["",j.required],idTrabajador:["",j.required],valorAbono:["",[this.maxAmountValidator.bind(this)]],observacion:[""]})}ngOnInit(){this.createForm(),this.form.get("valorAbono").valueChanges.subscribe(i=>{console.log(i),i==0?(this.form.get("valorAbono").setValidators([j.required,this.maxAmountValidator.bind(this)]),this.form.updateValueAndValidity()):i>0&&this.actualizaSelected(i)})}actualizaSelected(i){i===this.totalPagar?(console.log("Si entra al actualizar"),this.form.get("idTipoPagoTrabajador").setValue(this.selectOptionValue[0].id)):i<this.totalPagar&&(console.log("Si entra al actualizar 2"),this.form.get("idTipoPagoTrabajador").setValue(this.selectOptionValue[1].id))}get valorAbono(){return this.form.get("valorAbono")}maxAmountValidator(i){if(i.value===null||i.value===void 0||i.value==="")return null;console.log(i.value);let r=parseFloat(i.value.toString().replace(/,/g,""));return console.log(r),r===0?{valueZero:!0}:r>this.totalPagar?(console.log("Si entra"),{exceedsBalance:!0}):null}closeDialog(){this.router.navigate(["/pages/gestion-cobros/trabajador"])}getEmpleadosSubEmpresas(i){this.empleados$=this.empleadosService.getEmpleadosSubempresas(i)}selectedEmpleados(i){let r=i.value;this.empleados$=this.empleadosService.getEmpleadosSubempresas(r)}onGet(){if(this.form.valid){let{fechaFinal:i,idSubEmpresa:r,idTrabajador:s}=this.form.getRawValue(),b={fechaFinallData:this.datePipe.transform(i,"yyyy-MM-dd"),idSubEmpresa:r,idTrabajador:s};console.log(b),this.getAllPagoTrabajador(b)}}onSave(){let ye=this.form.getRawValue(),{fechaFinal:i,idSubEmpresa:r,idTrabajador:s,idTipoPagoTrabajador:u}=ye,b=Q(ye,["fechaFinal","idSubEmpresa","idTrabajador","idTipoPagoTrabajador"]),ge={fechaFinal:this.datePipe.transform(i,"yyyy-MM-dd"),idSubEmpresa:r},xe=[];xe=this.data.map(be=>({idCobroTrabajador:be.id}));let _e=k(Ce(k({},ge),{idTipoPagoTrabajador:u,detallePagoTrabajador:xe,idTrabajador:s}),b);console.log(_e),this.fuseService.open(k({},Le)).afterClosed().subscribe(be=>{be==="confirmed"&&this.postSave(_e)})}getAllPagoTrabajador(i){this.cobroTrabajadorService.getCobroTrabajador(i).pipe(Se(r=>(this.subtotal=0,this.totalComision=0,this.totalPagar=0,r&&Array.isArray(r.data)?r.data.forEach(s=>{s.montoCuota=this.currencyPipe.transform(s.montoCuota,"USD","symbol","1.2-2"),s.comision=this.currencyPipe.transform(s.comision,"USD","symbol","1.2-2"),s.pagar=this.currencyPipe.transform(s.pagar,"USD","symbol","1.2-2"),s.valorPendiente=this.currencyPipe.transform(s.valorPendiente,"USD","symbol","1.2-2"),s.fechaCobro=this.datePipe.transform(s.fechaCobro,"dd/MM/yyyy"),this.totalPagar+=parseFloat(s.montoCuota.replace(/[^0-9.-]+/g,""))}):this.data=[],r))).subscribe(r=>{r&&Array.isArray(r.data)?this.data=r.data:(this.data=[],this.message=r.msg)})}postSave(i){this.pagoTrabajadorService.postPagoTrabajador(i).subscribe(r=>{this.swalService.ToastAler({icon:"success",title:"Registro Creado o Actualizado con Exito.",timer:4e3}),this.estadosDatosService.stateGrid.next(!0),this.closeDialog()},r=>{this.swalService.ToastAler({icon:"error",title:"Ha ocurrido un error al crear el registro!",timer:4e3})})}};m.\u0275fac=function(r){return new(r||m)},m.\u0275cmp=E({type:m,selectors:[["app-form-pago-trabajador"]],standalone:!0,features:[w([{provide:R,useClass:W},{provide:B,useValue:"en-GB"},C,x,G,U(wt)]),P],decls:53,vars:28,consts:[["finalPicker",""],["cdkScrollable","",1,"bg-card","flex","min-w-0","flex-auto","flex-col","dark:bg-transparent","sm:inset-0","sm:overflow-hidden"],[1,"mt-8","text-3xl","font-semibold","leading-tight","tracking-tight","pl-8"],[1,"relative","flex","flex-0","flex-col","border-b","px-6","sm:flex-row","md:px-8"],[1,"mt-6","w-full","shrink-0","sm:mt-0","sm:space-x-2","lg:w-full"],[1,"mt-8",3,"formGroup"],[1,"flex","flex-col","sm:flex-row","gap-2.5"],["floatLabel","always",1,"w-full","min-w-90"],["matInput","","placeholder","dd/mm/yyyy",3,"matDatepicker","formControlName"],["matIconSuffix","",3,"for"],["placeholder","Tipo de pago trabajador",3,"formControlName"],[4,"ngIf"],["placeholder","Empresa",3,"selectionChange","formControlName"],["placeholder","Trabajadores",3,"formControlName"],["class","flex flex-col items-baseline sm:flex-row gap-2.5",4,"ngIf"],[1,"relative","border","border-gray-300","rounded-lg"],[1,"absolute","-top-3","left-4","bg-white","px-2","text-gray-500","font-semibold"],[1,"flex","flex-wrap","justify-end","gap-2.5","sm:mb-4","pr-2"],["mat-flat-button","",1,"sm:w-auto","w-full","sm:mt-6","bg-credigray-100","rounded-lg","transition","duration-200","text-white","font-semibold",3,"click","color"],["mat-flat-button","",1,"sm:w-auto","w-full","sm:mt-6","bg-crediblue-50","rounded-lg","transition","duration-200","text-white","font-semibold",3,"click","color"],["mat-flat-button","",1,"lg:w-auto","w-full","sm:mt-6","transition","duration-200","text-white","font-semibold","rounded-lg","md:w-auto",3,"click","ngClass","disabled"],[1,"flex","flex-auto","overflow-hidden"],[1,"inset-0","min-w-0","overflow-auto","print:overflow-visible"],[1,"flex","flex-col","gap-4","justify-end","sm:flex-row"],[1,"sm:pr-4","text-gray-600","font-bold","text-right"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"flex","flex-col","items-baseline","sm:flex-row","gap-2.5"],["floatLabel","always",1,"w-full"],["matInput","","mask","separator.2","thousandSeparator",",","decimalMarker",".","placeholder","Valor a cancelar",3,"blur","allowNegativeNumbers","separatorLimit","formControlName"],["matInput","","placeholder","Observaciones",3,"formControlName"],[1,"flex","flex-auto","flex-col","overflow-hidden","sm:p-4","sm:mb-10","sm:overflow-y-auto"],[1,"text-lg","text-black","font-semibold","mb-4"],[3,"columns","displayedColumns","columnPropertyMap","data"],[1,"inline-block","p-4","sm:p-8","print:p-0","w-full"],[3,"type","appearance"],["fuseAlertTitle",""],[1,"text-gray-800"]],template:function(r,s){if(r&1){let u=J();t(0,"div",1)(1,"div",2),n(2," Cobro Individual "),a(),t(3,"div",3)(4,"div",4)(5,"form",5)(6,"div",6)(7,"mat-form-field",7)(8,"mat-label"),n(9,"Fecha de corte"),a(),c(10,"input",8)(11,"mat-datepicker-toggle",9)(12,"mat-datepicker",null,0),a(),t(14,"mat-form-field",7)(15,"mat-label"),n(16,"Tipo de pago"),a(),t(17,"mat-select",10),f(18,ct,2,1,"ng-container",11),h(19,"async"),a()()(),t(20,"div",6)(21,"mat-form-field",7)(22,"mat-label"),n(23,"Empresa"),a(),t(24,"mat-select",12),y("selectionChange",function(_){return S(u),T(s.selectedEmpleados(_))}),f(25,ft,2,1,"ng-container",11),h(26,"async"),a()(),t(27,"mat-form-field",7)(28,"mat-label"),n(29,"Trabajadores"),a(),t(30,"mat-select",13),f(31,bt,2,1,"ng-container",11),h(32,"async"),a()()(),f(33,_t,12,7,"div",14),t(34,"div",15)(35,"div",16),n(36," Opciones "),a(),t(37,"div",17)(38,"button",18),y("click",function(){return S(u),T(s.closeDialog())}),t(39,"span"),n(40," Atras "),a()(),t(41,"button",19),y("click",function(){return S(u),T(s.onGet())}),t(42,"span"),n(43," Consultar "),a()(),t(44,"button",20),y("click",function(){return S(u),T(s.onSave())}),t(45,"span"),n(46," Registrar "),a()()()()()()(),f(47,yt,5,4,"div",21)(48,Ct,6,3,"div",22),t(49,"div",23),f(50,St,5,3,"span",24)(51,Tt,5,3,"span",24)(52,Et,5,3,"span",24),a()()}if(r&2){let u=K(13);l(5),d("formGroup",s.form),l(5),d("matDatepicker",u)("formControlName","fechaFinal"),l(),d("for",u),l(6),d("formControlName","idTipoPagoTrabajador"),l(),d("ngIf",A(19,19,s.tipoPago$)),l(6),d("formControlName","idSubEmpresa"),l(),d("ngIf",A(26,21,s.empresa$)),l(5),d("formControlName","idTrabajador"),l(),d("ngIf",A(32,23,s.empleados$)),l(2),d("ngIf",s.data.length),l(5),d("color","primary"),l(3),d("color","primary"),l(3),d("ngClass",je(25,dt,s.data.length==0,s.data.length>0))("disabled",s.data.length==0||s.form.invalid),l(3),D(s.data.length?47:s.message?48:-1),l(3),D(s.subtotal?50:-1),l(),D(s.totalComision?51:-1),l(),D(s.totalPagar?52:-1)}},dependencies:[Ie,x,ue,ce,$,qe,ze,Ue,L,q,ee,Ae,$e,Be,De,X,de,ne,ie,oe,re,le,me,Fe,fe,Oe,Y]});let e=m;return e})();function Pt(e,m){if(e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),n(6," N\xFAmero de pago "),a(),t(7,"div",6),n(8),a(),t(9,"div",7)(10,"div",8),n(11),a()(),c(12,"div",9),t(13,"div",10),n(14," Periodo inicial "),a(),t(15,"div",11),n(16),h(17,"date"),a(),t(18,"div",10),n(19," Periodo final "),a(),t(20,"div",11),n(21),h(22,"date"),a(),t(23,"div",10),n(24," Total "),a(),t(25,"div",11),n(26),h(27,"currency"),a(),t(28,"div",10),n(29," Estado "),a(),t(30,"div",11),n(31),a()(),t(32,"div",12)(33,"div",13),c(34,"img",14),a(),t(35,"div",15)(36,"div"),n(37,"Calle 70B Cra 41 # 187"),a(),t(38,"div"),n(39,"Barranquilla - Atlantico"),a(),t(40,"div"),n(41,"+57 301 2523319"),a(),t(42,"div"),n(43,"info@crediplus.com.co"),a(),t(44,"a",16),n(45,"crediplus.com.co"),a()()()(),t(46,"div",17),c(47,"div",18),t(48,"div",19),n(49," Observaciones "),a(),t(50,"div",20),n(51),a(),t(52,"div",21),n(53," Subtotal "),a(),t(54,"div",22),n(55),h(56,"currency"),a(),c(57,"div",23),t(58,"div",24),n(59," Total a cobrar "),a(),t(60,"div",25),n(61),h(62,"currency"),a()()()()()),e&2){let o=g();l(8),v(o.detalleFactura.consecutivo),l(3),N("Trabajador: ",o.detalleFactura.nombreTrabajador,""),l(5),v(V(17,9,o.detalleFactura.fechaIncial,"dd/MM/yyyy")),l(5),v(V(22,12,o.detalleFactura.fechaFinal,"dd/MM/yyyy")),l(5),v(V(27,15,o.detalleFactura.total,"USD")),l(5),v(o.detalleFactura.nombreEstadoCobro),l(20),v(o.detalleFactura.observacion),l(4),v(V(56,18,o.detalleFactura.total,"USD")),l(6),N(" ",V(62,21,o.detalleFactura.total,"USD")," ")}}var jt={validation:!1},tt=(()=>{let m=class m{constructor(){this.fuseService=p(ae),this.currencyPipe=p(x),this.decimalPipe=p(G),this.router=p(O),this.activatedRoute=p(Me),this.datePipe=p(C),this.pagoTrabajadorService=p(F)}ngOnDestroy(){}ngOnInit(){let i=this.activatedRoute.snapshot.paramMap.get("id");this.getPagoIndividual(i)}getPagoIndividual(i){this.subcription$=this.pagoTrabajadorService.getPagosTrabajadorIndividual(i).subscribe(r=>{r.data&&(this.detalleFactura=r.data)})}};m.\u0275fac=function(r){return new(r||m)},m.\u0275cmp=E({type:m,selectors:[["app-form-view-pago-trabajador"]],standalone:!0,features:[w([{provide:R,useClass:W},{provide:B,useValue:"en-GB"},C,x,G,U(jt)]),P],decls:1,vars:1,consts:[["cdkScrollable","",1,"absolute","inset-0","min-w-0","overflow-auto","text-center","print:overflow-visible"],[1,"inline-block","p-6","text-left","sm:p-10","print:p-0"],[1,"bg-card","w-240","rounded-2xl","p-16","shadow","print:w-auto","print:rounded-none","print:bg-transparent","print:shadow-none"],[1,"flex","items-start","justify-between"],[1,"grid","grid-cols-2","gap-x-4","gap-y-1"],[1,"text-secondary","text-2xl","tracking-tight"],[1,"text-2xl"],[1,"text-md","mt-6"],[1,"text-xl","font-medium"],[1,"text-secondary","font-medium","tracking-tight","col-span-2"],[1,"text-secondary","font-medium","tracking-tight"],[1,"font-medium"],[1,"dark","-mr-16","grid","auto-cols-max","grid-flow-col","gap-x-8","rounded-l-2xl","bg-accent","px-8","py-6"],[1,"w-24","place-self-center"],["src","images/logo/logo-blanco.svg",1,"w-24"],[1,"border-l","pl-10","text-md"],["target","_blank","href","https://crediplus.com.co"],[1,"mt-12","grid","grid-cols-12","gap-x-1"],[1,"col-span-12","mt-16"],[1,"text-secondary","col-span-2","self-center","font-medium","tracking-tight"],[1,"col-span-10","text-right","text-lg"],[1,"text-secondary","col-span-10","self-center","font-medium","tracking-tight"],[1,"col-span-2","text-right","text-lg"],[1,"col-span-12","my-3","border-b"],[1,"text-secondary","col-span-10","self-center","text-2xl","font-medium","tracking-tight"],[1,"col-span-2","text-right","text-2xl","font-medium"]],template:function(r,s){r&1&&f(0,Pt,63,24,"div",0),r&2&&D(s.detalleFactura?0:-1)},dependencies:[Y,x,C]});let e=m;return e})();var ti=[{path:"",component:Ye},{path:"individual",component:et},{path:"individual/:id",component:tt}];export{ti as default};
